"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[4561],{1864:function(e,t,n){n.d(t,{X:function(){return l}});window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var l=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},4561:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var l=n(1413),s=n(5861),a=n(9439),r=n(7757),i=n.n(r),c=n(2791),d=n(6818),o=n(521),u=n(586),h=n(3695),Z=n(6106),j=n(914),x=n(9228),p=n(9553),f=n(2649),m=n(394),y=n(7309),g=n(2862),w=n(9389),v=n(6904),b=n(6871),R=n(4569),E=n.n(R),M=(n(1864),n(116)),k=n(6369),P=n(184),S=d.Z.Option,C=o.Z.Title,T=M.Z;function F(){var e={},t=(0,b.s0)(),n=(0,c.useState)(JSON.parse(localStorage.getItem("loginUser"))),r=(0,a.Z)(n,2),o=r[0],R=(r[1],u.Z.Content),M=(0,c.useState)(!1),F=(0,a.Z)(M,2),I=F[0],z=F[1],A=(0,c.useState)(!1),H=(0,a.Z)(A,2),_=H[0],U=H[1],O=(0,c.useState)(o.id),W=(0,a.Z)(O,2),$=W[0],N=(W[1],(0,c.useRef)()),V=(0,c.useRef)(),D=(0,c.useRef)(),J=(0,c.useRef)(),L=(0,c.useRef)(),X=(0,c.useState)(0),q=(0,a.Z)(X,2),B=q[0],G=q[1],K=(0,c.useState)(0),Q=(0,a.Z)(K,2),Y=Q[0],ee=Q[1],te=(0,c.useState)(0),ne=(0,a.Z)(te,2),le=ne[0],se=ne[1],ae=(0,c.useState)(0),re=(0,a.Z)(ae,2),ie=re[0],ce=re[1],de=(0,c.useState)(0),oe=(0,a.Z)(de,2),ue=oe[0],he=oe[1];(0,c.useEffect)((0,s.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.ZP.destroy(),e.next=3,E().get("http://localhost:8080/userData?userid="+$);case 3:return t=e.sent,console.log("\u7528\u6237\u6570\u636e",t.data.userdata),G(t.data.userdata["\u7269\u54c1\u6570\u91cf"]),ee(t.data.userdata["\u6536\u85cf\u6570\u91cf"]),se(t.data.userdata["\u4ea4\u6362\u6b21\u6570"]),ce(t.data.userdata["\u6350\u8d60\u6b21\u6570"]),he(t.data.userdata["\u5151\u6362\u793c\u7269"]),e.abrupt("return",(function(){console.log("menu-destroy")}));case 11:case"end":return e.stop()}}),e)}))),[]);var Ze={data:[{type:"\u6211\u7684\u7269\u54c1",sales:B},{type:"\u6211\u7684\u6536\u85cf",sales:Y},{type:"\u4ea4\u6362\u6b21\u6570",sales:le},{type:"\u6350\u8d60\u6b21\u6570",sales:ie},{type:"\u5151\u6362\u793c\u7269",sales:ue}],xField:"type",yField:"sales",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},xAxis:{label:{autoHide:!0,autoRotate:!1}},meta:{type:{alias:"\u7c7b\u522b"},sales:{alias:"\u6570\u91cf"}}};return(0,P.jsxs)(R,{style:{padding:15,backgroundColor:"#FFF"},className:"animate__animated animate__fadeIn",children:[(0,P.jsx)(Z.Z,{children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(C,{level:3,children:"\u4e2a\u4eba\u8d44\u6599"})})}),(0,P.jsx)(Z.Z,{justify:"center",children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(x.Z,{placement:"topLeft",content:"\u70b9\u51fb\u4fee\u6539\u5934\u50cf",children:(0,P.jsx)(p.Z,{maxCount:1,action:"http://localhost:8080/saveUserHead?id=".concat($),onChange:function(e){"done"===e.file.status?(h.ZP.success("".concat(e.file.name,"\u56fe\u7247\u4e0a\u4f20\u6210\u529f")),setTimeout((function(){window.location.reload()}),500)):"error"===e.file.status&&h.ZP.error("".concat(e.file.name," \u56fe\u7247\u4e0a\u4f20\u5931\u8d25"))},children:(0,P.jsx)(f.C,{src:"http://localhost:8080/getUserHead?id=".concat($),alt:"\u7528\u6237\u5934\u50cf",size:100})})})})}),(0,P.jsx)(Z.Z,{justify:"center",style:{marginTop:"0.3REM"},children:(0,P.jsx)(j.Z,{children:(0,P.jsxs)(m.Z,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},size:"middle ",children:[(0,P.jsx)(m.Z.Item,{label:"\u6635\u79f0",children:o.nickname}),(0,P.jsx)(m.Z.Item,{label:"\u6027\u522b",children:"0"==o.gender?"\u7537":"1"==o.gender?"\u5973":"\u4fdd\u5bc6"}),(0,P.jsx)(m.Z.Item,{label:"\u57ce\u5e02",children:o.city}),(0,P.jsx)(m.Z.Item,{label:"\u7d2f\u8ba1\u79ef\u5206",children:o.point}),(0,P.jsx)(m.Z.Item,{label:"\u53ef\u7528\u79ef\u5206",children:o.shoppoint}),(0,P.jsx)(m.Z.Item,{label:"\u5730\u5740",children:o.address}),(0,P.jsx)(m.Z.Item,{label:"\u90ae\u7bb1",children:o.email}),(0,P.jsx)(m.Z.Item,{label:"\u624b\u673a",children:o.phone}),(0,P.jsx)(m.Z.Item,{label:"\u64cd\u4f5c",children:(0,P.jsxs)(Z.Z,{justify:"space-around",gutter:8,children:[(0,P.jsx)(j.Z,{children:(0,P.jsx)(y.Z,{type:"primary",danger:!0,onClick:function(){U(!0)},children:"\u6c38\u4e45\u6ce8\u9500"})}),(0,P.jsx)(j.Z,{children:(0,P.jsx)(y.Z,{type:"primary",onClick:function(){z(!0),N.current.state.value=null,V.current.state.value=null,D.current.state.value=null,J.current.state.value=null,L.current.state.value=null},children:"\u4fee\u6539\u4fe1\u606f"})})]})})]})})}),(0,P.jsx)(Z.Z,{children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(C,{level:3,children:"\u4e2a\u4eba\u6570\u636e"})})}),(0,P.jsx)(k.Z,(0,l.Z)({},Ze)),(0,P.jsxs)(g.Z,{title:"\u7f16\u8f91\u8d44\u6599",visible:I,onOk:function(){e.password=N.current.state.value||null,e.nickname=V.current.state.value||null,e.address=D.current.state.value||null,e.phone=J.current.state.value||null,e.email=L.current.state.value||null,e.id=$,null==e.password||/^[a-zA-Z0-9]{6,18}$/.test(e.password)?null!=e.nickname&&e.nickname.length>20?h.ZP.error("\u6635\u79f0\u4e0d\u80fd\u5927\u4e8e20\u4e2a\u5b57\u7b26!"):null==e.email||/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e.email)?null==e.phone||/^1[34578]\d{9}$/.test(e.phone)?E().post("http://localhost:8080/editUser",e).then((function(e){"0"===e.data.state?(h.ZP.success(e.data.message,1),z(!1),setTimeout((function(){window.location.reload()}),500)):(h.ZP.error(e.data.message,1),z(!1))})).catch((function(e){h.ZP.error("\u8bf7\u6c42\u8d85\u65f6!",1),z(!1)})):h.ZP.error("\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef!"):h.ZP.error("\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef!"):h.ZP.error("\u5bc6\u7801\u4e3a6-18\u4f4d\u5305\u542b\u6570\u5b57\u5b57\u6bcd\u7684\u7ec4\u5408!")},onCancel:function(){z(!1),e={}},centered:!0,children:[(0,P.jsx)(Z.Z,{justify:"center",children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(w.Z,{type:"password",placeholder:"\u5bc6\u7801",style:{width:"1.7REM",marginTop:"0.03REM"},ref:N})})}),(0,P.jsx)(Z.Z,{justify:"center",children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(w.Z,{placeholder:"\u6635\u79f0",style:{width:"1.7REM",marginTop:"0.03REM"},ref:V})})}),(0,P.jsx)(Z.Z,{justify:"center",children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(w.Z,{placeholder:"\u5730\u5740",style:{width:"1.7REM",marginTop:"0.03REM"},ref:D})})}),(0,P.jsx)(Z.Z,{justify:"center",children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(w.Z,{placeholder:"\u624b\u673a",style:{width:"1.7REM",marginTop:"0.03REM"},ref:J})})}),(0,P.jsx)(Z.Z,{justify:"center",children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(w.Z,{placeholder:"\u90ae\u7bb1",style:{width:"1.7REM",marginTop:"0.03REM"},ref:L})})}),(0,P.jsx)(Z.Z,{justify:"center",children:(0,P.jsx)(j.Z,{children:(0,P.jsx)(v.Z,{placeholder:"\u57ce\u5e02",style:{width:"1.7REM",marginTop:"0.03REM"},onChange:function(t){e.city=t},options:T,defaultValue:""})})}),(0,P.jsx)(Z.Z,{justify:"center",children:(0,P.jsx)(j.Z,{children:(0,P.jsxs)(d.Z,{placeholder:"\u6027\u522b",defaultValue:"",onSelect:function(t){e.gender=t},style:{width:"1.7REM",marginTop:"0.03REM"},children:[(0,P.jsx)(S,{value:"0",children:"\u7537"}),(0,P.jsx)(S,{value:"1",children:"\u5973"}),(0,P.jsx)(S,{value:"2",children:"\u4fdd\u5bc6"})]})})})]}),(0,P.jsxs)(g.Z,{title:"\u8b66\u544a\uff01",visible:_,onOk:function(){E().post("http://localhost:8080/deleteUser?id="+$).then((function(e){"0"===e.data.state?(h.ZP.success(e.data.message,1),U(!1),localStorage.clear(),setTimeout((function(){t("/loginAndRegister/*")}),300)):(h.ZP.error(e.data.message,1),U(!1))})).catch((function(e){h.ZP.error("\u7f51\u7edc\u8d85\u65f6!",1),U(!1)}))},onCancel:function(){U(!1)},width:"35%",centered:!0,children:[(0,P.jsx)(Z.Z,{children:(0,P.jsx)(j.Z,{children:"\u672c\u6b21\u64cd\u4f5c\u540e\u5c06\u6c38\u4e45\u5220\u9664\u8be5\u7528\u6237\u4fe1\u606f"})}),(0,P.jsx)(Z.Z,{children:(0,P.jsx)(j.Z,{children:"\u82e5\u60f3\u518d\u6b21\u4f7f\u7528\u672c\u7cfb\u7edf,\u8bf7\u91cd\u65b0\u6ce8\u518c!"})})]})]})}}}]);
//# sourceMappingURL=4561.92e75d88.chunk.js.map