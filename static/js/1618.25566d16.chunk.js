"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[1618],{1618:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(5861),o=n(9439),s=n(7757),a=n.n(s),c=n(2791),i=n(2862),l=n(3695),d=n(6106),u=n(7528),g=n(914),f=n(2649),p=n(6904),m=n(4469),h=n(3099),v=n(7309),Z=n(1577),j=n(8894),x=n(3383),y=n(394),w=n(6755),b=n(8243),C=n(1544),z=n(6871),E=n(4569),P=n.n(E),S=n(116),O=n(184),k=(i.Z.confirm,{});function N(){var e=(0,c.useState)(JSON.parse(localStorage.getItem("loginUser"))),t=(0,o.Z)(e,2),n=t[0],s=(t[1],(0,c.useState)([])),E=(0,o.Z)(s,2),N=E[0],R=E[1],K=(0,c.useState)([]),H=(0,o.Z)(K,2),M=H[0],D=H[1],I=(0,z.s0)(),_=(0,c.useState)(!1),q=(0,o.Z)(_,2),G=q[0],F=q[1],T=(0,c.useState)(N[0]),V=(0,o.Z)(T,2),A=V[0],W=V[1],B=(0,c.useState)(!1),L=(0,o.Z)(B,2),Q=L[0],J=L[1];(0,c.useEffect)((0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P().get("http://localhost:8080/qryOrgList");case 2:t=e.sent,console.log("\u673a\u6784\u5217\u8868\u53ca\u5176\u7269\u8d44\u9700\u6c42:",t),R(t.data.data),D(t.data.data);case 6:case"end":return e.stop()}}),e)}))),[]);var U=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(k.userid=n.id,k.orgid=A.id,J(!1),t=k.goods.length-1;t>=0;t--)0==k.goods[t].goodsnum&&k.goods.splice(t,1);return console.log(k),e.next=7,P().post("http://localhost:8080/userDonation",k);case 7:e.sent,l.ZP.success("\u64cd\u4f5c\u6210\u529f,\u53ef\u524d\u5f80\u5386\u53f2\u754c\u9762\u67e5\u770b!"),J(!1),setTimeout((function(){window.location.reload()}),500),k={};case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=[{title:"\u673a\u6784\u540d\u79f0",ellipsis:!0,render:function(e,t){return(0,O.jsxs)(d.Z,{align:"middle",children:[(0,O.jsx)(g.Z,{span:8,children:(0,O.jsx)(f.C,{size:"large",src:"http://localhost:8080/getOrgHead?id=".concat(t.id)})}),(0,O.jsx)(g.Z,{children:t.orgname})]})}},{title:(0,O.jsx)(p.Z,{placeholder:"\u57ce\u533a",onChange:function(e){if(console.log(e),e){console.log("baclistdata",M),R(M);for(var t="",n=0;n<e.length;n++)t+=e[n];console.log("\u7b5b\u9009\u7269\u54c1:",e),console.log("\u6700\u7ec8\u7b5b\u9009\u7269\u54c1str",t);var r=M.filter((function(e){return e.city===t}));console.log("\u7269\u54c1\u7c7b\u522b\u7b5b\u9009\u540e\u7684\u7ed3\u679c:",r),R(r)}else R(M)},options:S.Z}),ellipsis:!0,render:function(e,t){return(0,O.jsx)("span",{style:{color:"gray"},children:t.city})}},{title:"\u8be6\u7ec6\u5730\u5740",ellipsis:!0,render:function(e,t){return(0,O.jsx)("span",{style:{color:"gray"},children:t.address})}},{title:(0,O.jsxs)(m.Z,{title:"\u70b9\u51fb\u67e5\u770b\u8be6\u60c5",children:["\u7269\u8d44\u9700\u6c42 ",(0,O.jsx)(C.Z,{})]}),ellipsis:!0,render:function(e,t){return(0,O.jsx)(h.Z,{onClick:function(){!function(e){i.Z.info({title:"\u8be6\u7ec6\u4fe1\u606f",content:(0,O.jsx)(d.Z,{children:e.goodsneed.map((function(e,t){return(0,O.jsx)(u.Z,{color:"green",children:e.goodsname})}))})})}(t)},children:t.goodsneed.map((function(e,t){return(0,O.jsx)(u.Z,{color:"green",children:e.goodsname})}))})}},{title:"Action",key:"action",render:function(e,t){return(0,O.jsxs)(h.Z,{size:"middle",children:[(0,O.jsx)(v.Z,{type:"primary",onClick:function(){!function(e){W(e),J(!0),(k={}).goods=[]}(t)},children:"\u6350\u8d60"}),(0,O.jsx)(v.Z,{type:"primary",onClick:function(){I("/userMenu/orgDetail",{state:t})},children:"\u8be6\u7ec6\u4fe1\u606f"})]})}}];return(0,O.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[(0,O.jsx)(Z.Z,{columns:X,dataSource:N}),(0,O.jsx)(j.Z,{title:"\u673a\u6784\u4fe1\u606f",placement:"bottom",width:500,onClose:function(){F(!1)},height:"80%",visible:G,children:(0,O.jsxs)(d.Z,{style:{width:"100%",height:"100%"},children:[(0,O.jsxs)(g.Z,{span:10,children:[(0,O.jsx)(d.Z,{children:(0,O.jsx)(x.Z,{title:(0,O.jsx)(f.C,{size:"large",src:"http://localhost:8080/getOrgHead?id=".concat(null===A||void 0===A?void 0:A.id)}),extra:(0,O.jsx)("span",{style:{color:"gray"},children:null===A||void 0===A?void 0:A.orgname}),style:{width:"100%"},children:(0,O.jsxs)(y.Z,{column:1,bordered:!0,children:[(0,O.jsx)(y.Z.Item,{label:"\u6240\u5728\u57ce\u5e02",children:null===A||void 0===A?void 0:A.city}),(0,O.jsx)(y.Z.Item,{label:"\u8be6\u7ec6\u5730\u5740",children:null===A||void 0===A?void 0:A.address}),(0,O.jsx)(y.Z.Item,{label:"\u8054\u7cfb\u90ae\u7bb1",children:null===A||void 0===A?void 0:A.email}),(0,O.jsx)(y.Z.Item,{label:"\u8054\u7cfb\u7535\u8bdd",children:null===A||void 0===A?void 0:A.phone}),(0,O.jsx)(y.Z.Item,{label:"\u7ec4\u7ec7\u4ecb\u7ecd",children:null===A||void 0===A?void 0:A.orgmsg}),(0,O.jsx)(y.Z.Item,{label:"\u6211\u4eec\u9700\u8981",children:(0,O.jsx)(h.Z,{children:null===A||void 0===A?void 0:A.goodsneed.map((function(e,t){return(0,O.jsx)(u.Z,{color:"green",children:e.goodsname})}))})})]})})}),(0,O.jsx)(d.Z,{})]}),(0,O.jsx)(g.Z,{span:14,style:{backgroundColor:"pink"},children:(0,O.jsxs)(w.Z.PreviewGroup,{children:[(0,O.jsx)(w.Z,{width:"20%",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}),(0,O.jsx)(w.Z,{width:200,src:"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/method-draw-image.svg"}),(0,O.jsx)(w.Z,{width:"20%",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}),(0,O.jsx)(w.Z,{width:200,src:"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/method-draw-image.svg"}),(0,O.jsx)(w.Z,{width:"20%",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}),(0,O.jsx)(w.Z,{width:200,src:"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/method-draw-image.svg"}),(0,O.jsx)(w.Z,{width:"20%",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}),(0,O.jsx)(w.Z,{width:200,src:"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/method-draw-image.svg"}),(0,O.jsx)(w.Z,{width:"20%",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}),(0,O.jsx)(w.Z,{width:200,src:"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/method-draw-image.svg"}),(0,O.jsx)(w.Z,{width:"20%",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}),(0,O.jsx)(w.Z,{width:200,src:"https://gw.alipayobjects.com/zos/antfincdn/aPkFc8Sj7n/method-draw-image.svg"})]})})]})}),(0,O.jsx)(i.Z,{title:"\u6350\u8d60",visible:Q,onOk:U,width:300,onCancel:function(){J(!1)},children:null===A||void 0===A?void 0:A.goodsneed.map((function(e,t){return(0,O.jsxs)(d.Z,{align:"middle",justify:"space-between",style:{width:"80%",margin:"0 auto",marginBottom:10},children:[(0,O.jsx)(g.Z,{children:(0,O.jsx)(u.Z,{color:"green",children:e.goodsname})}),(0,O.jsx)(g.Z,{children:(0,O.jsx)(b.Z,{min:0,max:100,controls:!1,onChange:function(t){0==k.goods.length&&k.goods.push({goodsname:e.goodsname,goodsnum:t.eventPhase});for(var n=0;n<k.goods.length;n++)k.goods[n].goodsname==e.goodsname?k.goods[n].goodsnum=t:n==k.goods.length-1&&k.goods.push({goodsname:e.goodsname,goodsnum:t})}})})]})}))})]})}},1544:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1413),o=n(2791),s={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm0 632c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z",fill:t}},{tag:"path",attrs:{d:"M472 732a40 40 0 1080 0 40 40 0 10-80 0zm151.6-415.3C593.6 290.5 554 276 512 276s-81.6 14.4-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.2 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5 0-39.3-17.2-76-48.4-103.3z",fill:e}}]}},name:"question-circle",theme:"twotone"},a=n(4291),c=function(e,t){return o.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:s}))};c.displayName="QuestionCircleTwoTone";var i=o.forwardRef(c)},7924:function(e,t,n){n.d(t,{Z:function(){return r}});var r=function(e){return e?"function"===typeof e?e():e:null}},2649:function(e,t,n){n.d(t,{C:function(){return S}});var r=n(7462),o=n(4942),s=n(1002),a=n(9439),c=n(2791),i=n(1694),l=n.n(i),d=n(8829),u=n(8834),g=n(9077),f=n(4824),p=n(8295),m=n(2832),h=c.createContext("default"),v=function(e){var t=e.children,n=e.size;return c.createElement(h.Consumer,null,(function(e){return c.createElement(h.Provider,{value:n||e},t)}))},Z=h,j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},x=function(e,t){var n,i,h=c.useContext(Z),v=c.useState(1),x=(0,a.Z)(v,2),y=x[0],w=x[1],b=c.useState(!1),C=(0,a.Z)(b,2),z=C[0],E=C[1],P=c.useState(!0),S=(0,a.Z)(P,2),O=S[0],k=S[1],N=c.useRef(),R=c.useRef(),K=(0,u.sQ)(t,N),H=c.useContext(g.E_).getPrefixCls,M=function(){if(R.current&&N.current){var t=R.current.offsetWidth,n=N.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,o=void 0===r?4:r;2*o<n&&w(n-2*o<t?(n-2*o)/t:1)}}};c.useEffect((function(){E(!0)}),[]),c.useEffect((function(){k(!0),w(1)}),[e.src]),c.useEffect((function(){M()}),[e.gap]);var D=e.prefixCls,I=e.shape,_=e.size,q=e.src,G=e.srcSet,F=e.icon,T=e.className,V=e.alt,A=e.draggable,W=e.children,B=e.crossOrigin,L=j(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),Q="default"===_?h:_,J=(0,m.Z)(),U=c.useMemo((function(){if("object"!==(0,s.Z)(Q))return{};var e=p.c4.find((function(e){return J[e]})),t=Q[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:F?t/2:18}:{}}),[J,Q]);(0,f.Z)(!("string"===typeof F&&F.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(F,"` at https://ant.design/components/icon"));var X,Y=H("avatar",D),$=l()((n={},(0,o.Z)(n,"".concat(Y,"-lg"),"large"===Q),(0,o.Z)(n,"".concat(Y,"-sm"),"small"===Q),n)),ee=c.isValidElement(q),te=l()(Y,$,(i={},(0,o.Z)(i,"".concat(Y,"-").concat(I),!!I),(0,o.Z)(i,"".concat(Y,"-image"),ee||q&&O),(0,o.Z)(i,"".concat(Y,"-icon"),!!F),i),T),ne="number"===typeof Q?{width:Q,height:Q,lineHeight:"".concat(Q,"px"),fontSize:F?Q/2:18}:{};if("string"===typeof q&&O)X=c.createElement("img",{src:q,draggable:A,srcSet:G,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&k(!1)},alt:V,crossOrigin:B});else if(ee)X=q;else if(F)X=F;else if(z||1!==y){var re="scale(".concat(y,") translateX(-50%)"),oe={msTransform:re,WebkitTransform:re,transform:re},se="number"===typeof Q?{lineHeight:"".concat(Q,"px")}:{};X=c.createElement(d.Z,{onResize:M},c.createElement("span",{className:"".concat(Y,"-string"),ref:function(e){R.current=e},style:(0,r.Z)((0,r.Z)({},se),oe)},W))}else X=c.createElement("span",{className:"".concat(Y,"-string"),style:{opacity:0},ref:function(e){R.current=e}},W);return delete L.onError,delete L.gap,c.createElement("span",(0,r.Z)({},L,{style:(0,r.Z)((0,r.Z)((0,r.Z)({},ne),U),L.style),className:te,ref:K}),X)},y=c.forwardRef(x);y.displayName="Avatar",y.defaultProps={shape:"circle",size:"default"};var w=y,b=n(5501),C=n(1113),z=n(9228),E=function(e){var t=c.useContext(g.E_),n=t.getPrefixCls,r=t.direction,s=e.prefixCls,a=e.className,i=void 0===a?"":a,d=e.maxCount,u=e.maxStyle,f=e.size,p=n("avatar-group",s),m=l()(p,(0,o.Z)({},"".concat(p,"-rtl"),"rtl"===r),i),h=e.children,Z=e.maxPopoverPlacement,j=void 0===Z?"top":Z,x=e.maxPopoverTrigger,y=void 0===x?"hover":x,E=(0,b.Z)(h).map((function(e,t){return(0,C.Tm)(e,{key:"avatar-key-".concat(t)})})),P=E.length;if(d&&d<P){var S=E.slice(0,d),O=E.slice(d,P);return S.push(c.createElement(z.Z,{key:"avatar-popover-key",content:O,trigger:y,placement:j,overlayClassName:"".concat(p,"-popover")},c.createElement(w,{style:u},"+".concat(P-d)))),c.createElement(v,{size:f},c.createElement("div",{className:m,style:e.style},S))}return c.createElement(v,{size:f},c.createElement("div",{className:m,style:e.style},E))},P=w;P.Group=E;var S=P},9228:function(e,t,n){var r=n(7462),o=n(2791),s=n(4469),a=n(9077),c=n(7924),i=n(9464),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},d=o.forwardRef((function(e,t){var n=e.prefixCls,d=e.title,u=e.content,g=l(e,["prefixCls","title","content"]),f=o.useContext(a.E_).getPrefixCls,p=f("popover",n),m=f();return o.createElement(s.Z,(0,r.Z)({},g,{prefixCls:p,ref:t,overlay:function(e){return o.createElement(o.Fragment,null,d&&o.createElement("div",{className:"".concat(e,"-title")},(0,c.Z)(d)),o.createElement("div",{className:"".concat(e,"-inner-content")},(0,c.Z)(u)))}(p),transitionName:(0,i.m)(m,"zoom-big",g.transitionName)}))}));d.displayName="Popover",d.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},t.Z=d}}]);
//# sourceMappingURL=1618.25566d16.chunk.js.map