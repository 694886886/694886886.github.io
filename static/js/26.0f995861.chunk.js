"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[26],{1864:function(e,t,n){n.d(t,{X:function(){return r}});window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},9565:function(e,t,n){function r(e){for(var t in e)if(null!=e[t])return!1;return!0}n.d(t,{t:function(){return r}})},26:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(7762),l=n(9439),a=n(2791),i=n(2862),s=n(9389),o=n(586),c=n(3695),u=n(3099),d=n(1577),f=n(6904),h=n(5796),m=n(6795),p=n(2464),x=n(1864),y=n(6871),g=n(4569),v=n.n(g),Z=n(116),w=n(9565),j=n(184),b=i.Z.confirm,z=s.Z.Search,H=o.Z.Content;function T(){var e={},t=(0,y.s0)(),n=(0,a.useState)(0),o=(0,l.Z)(n,2),g=o[0],T=o[1],A=(0,a.useState)(0),C=(0,l.Z)(A,2),P=C[0],S=C[1],k=(0,a.useState)(!1),I=(0,l.Z)(k,2),R=I[0],E=I[1],L=(0,a.useRef)(),O=(0,a.useRef)(),X=(0,a.useRef)(),_=(0,a.useRef)(),M=(0,a.useRef)(),N=(0,a.useRef)(),W=(0,a.useState)(),$=(0,l.Z)(W,2),B=$[0],q=$[1];(0,a.useEffect)((function(){return c.ZP.destroy(),v().get("http://localhost:8080/qryOrgList").then((function(e){T(e.data.data),S(e.data.data),console.log(e.data.data)})),function(){console.log("menu-destroy")}}),[]);var D=[{title:"\u673a\u6784\u540d\u79f0",dataIndex:"orgname",ellipsis:!0},{title:"address",dataIndex:"address",ellipsis:!0},{title:"phone",dataIndex:"phone",ellipsis:!0},{title:"email",dataIndex:"email",ellipsis:!0},{title:"\u79ef\u5206",dataIndex:"point",ellipsis:!0,sorter:function(e,t){return e.point-t.point}},{title:"Action",key:"action",render:function(e,t){return(0,j.jsxs)(u.Z,{size:"middle",children:[(0,j.jsxs)("a",{onClick:function(){F(t)},children:["\u7f16\u8f91",(0,j.jsx)(m.Z,{})]}),(0,j.jsxs)("a",{onClick:function(){!function(e){b({title:"\u8b66\u544a",icon:(0,j.jsx)(h.Z,{}),content:"\u786e\u8ba4\u8981\u5220\u9664".concat(e.orgname,"\u5417?"),onOk:function(){console.log(e),v().post("http://localhost:8080/delOrg?orgid="+e.id).then((function(e){"0"===e.data.state?(c.ZP.success(e.data.message,1),setTimeout((function(){window.location.reload()}),500)):c.ZP.error(e.data.message,1)})).catch((function(e){console.log(e),c.ZP.error("\u7f51\u7edc\u8d85\u65f6!",1)}))}})}(t)},style:{marginLeft:5},children:[" \u5220\u9664",(0,j.jsx)(p.Z,{twoToneColor:"red"})]})]})}}],V=function(e){console.log(e);var t;t=g.filter((function(t,n){return console.log(t),-1!=t.orgname.indexOf(e)})),console.log(t),T(t),null!=e&&""!=e||T(P)},F=function(e){E(!0),q(e),L.current.state.value="",O.current.state.value="",X.current.state.value="",_.current.state.value="",M.current.state.value=""};return(0,j.jsxs)(H,{style:{minHeight:285},className:"animate__animated animate__fadeIn",children:[(0,j.jsx)(d.Z,{columns:D,dataSource:g,bordered:!0,title:function(){return(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsx)("span",{children:"\u673a\u6784\u7ba1\u7406"}),(0,j.jsx)(z,{placeholder:"\u641c\u7d22\u540d\u79f0",onSearch:V,allowClear:!0,style:{width:200}})]})}}),(0,j.jsxs)(i.Z,{title:"\u7f16\u8f91\u8d44\u6599",visible:R,onOk:function(){if(e.password=L.current.state.value||null,e.orgname=O.current.state.value||null,e.address=X.current.state.value||null,e.phone=_.current.state.value||null,e.email=M.current.state.value||null,e.orgmsg=N.current.resizableTextArea.textArea.value||null,console.log("\u4fee\u6539\u540e\u673a\u6784\u4fe1\u606f:",e),!(0,w.t)(e)){e.id=B.id;return null==e.email||/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e.email)?null==e.phone||/^1[3|4|5|7|8]\d{9}$/.test(e.phone)?null==e.password||/^[a-zA-Z0-9]{6,18}$/.test(e.phone)?void v().post("http://localhost:8080/editOrg",e).then((function(e){"0"===e.data.state?(c.ZP.success(e.data.message,1),E(!1),setTimeout((function(){window.location.reload()}),500)):c.ZP.error(e.data.message,1)})).catch((function(e){c.ZP.error("\u8bf7\u6c42\u8d85\u65f6!",1),setTimeout((function(){t("/adminMenu/allOrg/*"),E(!1)}),1e3)})):(c.ZP.error("\u5bc6\u7801\u4e3a6-18\u4f4d\u6570\u5b57\u5b57\u6bcd\u7ec4\u5408!"),void E(!1)):(c.ZP.error("\u624b\u673a\u683c\u5f0f\u9519\u8bef!"),void E(!1)):(c.ZP.error("\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef!"),void E(!1))}E(!1)},onCancel:function(){E(!1),e={}},width:"35%",centered:!0,children:[(0,j.jsxs)("p",{style:{display:"flex"},children:[(0,j.jsx)("span",{style:{margin:10,width:70},children:"\u5bc6\u7801"}),(0,j.jsx)(s.Z,{style:{width:.2*x.X},ref:L}),(0,j.jsx)("br",{})]}),(0,j.jsxs)("p",{style:{display:"flex"},children:[(0,j.jsx)("span",{style:{margin:10,width:70},children:"\u673a\u6784\u540d\u79f0"}),(0,j.jsx)(s.Z,{style:{width:.2*x.X},ref:O}),(0,j.jsx)("br",{})]}),(0,j.jsxs)("p",{style:{display:"flex"},children:[(0,j.jsx)("span",{style:{margin:10,width:70},children:"\u8be6\u7ec6\u5730\u5740"}),(0,j.jsx)(s.Z,{style:{width:.2*x.X},ref:X}),(0,j.jsx)("br",{})]}),(0,j.jsxs)("p",{style:{display:"flex"},children:[(0,j.jsx)("span",{style:{margin:10,width:70},children:"\u8054\u7cfb\u7535\u8bdd"}),(0,j.jsx)(s.Z,{style:{width:.2*x.X},ref:_}),(0,j.jsx)("br",{})]}),(0,j.jsxs)("p",{style:{display:"flex"},children:[(0,j.jsx)("span",{style:{margin:10,width:70},children:"\u7535\u5b50\u90ae\u7bb1"}),(0,j.jsx)(s.Z,{style:{width:.2*x.X},ref:M}),(0,j.jsx)("br",{})]}),(0,j.jsxs)("p",{style:{display:"flex"},children:[(0,j.jsx)("span",{style:{margin:10,width:70},children:"\u57ce\u5e02"}),(0,j.jsx)(f.Z,{style:{width:.2*x.X},onChange:function(t){var n,l="",a=(0,r.Z)(t);try{for(a.s();!(n=a.n()).done;){l+=n.value}}catch(i){a.e(i)}finally{a.f()}console.log(l),e.city=l},options:Z.Z,defaultValue:""}),(0,j.jsx)("br",{})]}),(0,j.jsxs)("p",{style:{display:"flex"},children:[(0,j.jsx)("span",{style:{margin:10,width:70},children:"\u673a\u6784\u4ecb\u7ecd"}),(0,j.jsx)(s.Z.TextArea,{style:{height:80},ref:N})]})]})]})}},2464:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),l=n(2791),a={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:t}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:e}}]}},name:"delete",theme:"twotone"},i=n(4291),s=function(e,t){return l.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};s.displayName="DeleteTwoTone";var o=l.forwardRef(s)},6795:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),l=n(2791),a={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"},i=n(4291),s=function(e,t){return l.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:a}))};s.displayName="EditTwoTone";var o=l.forwardRef(s)},7762:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(181);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}}}]);
//# sourceMappingURL=26.0f995861.chunk.js.map