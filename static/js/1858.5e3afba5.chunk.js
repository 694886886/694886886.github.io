"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[1858],{5171:function(e,t,n){n.d(t,{Z:function(){return a}});n(2791);var c=n(521),o=n(184),r=c.Z.Text;function a(e){return(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:e.onClick,children:(0,o.jsx)(r,{keyboard:!0,children:e.title})})}},1858:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var c=n(9439),o=n(2791),r=n(3695),a=n(4469),i=n(3099),l=n(7528),s=n(7309),d=n(1577),u=n(8894),f=n(2126),p=n(6755),h=n(2649),m=n(2862),x=n(9389),g=n(4569),Z=n.n(g),y=n(1544),j=n(5171),v=n(2426),C=n.n(v),b=n(184),k=JSON.parse(localStorage.getItem("loginUser"));function w(){var e=(0,o.useState)([]),t=(0,c.Z)(e,2),n=t[0],g=t[1],v=(0,o.useState)([]),w=(0,c.Z)(v,2),P=w[0],I=w[1],O=(0,o.useState)(!1),E=(0,c.Z)(O,2),S=E[0],N=E[1],T=(0,o.useState)(!1),z=(0,c.Z)(T,2),F=z[0],M=z[1],A=(0,o.useState)(!1),_=(0,c.Z)(A,2),Y=_[0],H=_[1],B=(0,o.useState)(),R=(0,c.Z)(B,2),D=R[0],G=R[1],V=(0,o.useState)(!1),U=(0,c.Z)(V,2),q=U[0],L=U[1],$=(0,o.useState)(),J=(0,c.Z)($,2),Q=J[0],K=J[1],W=(0,o.useRef)();(0,o.useEffect)((function(){return Z().get("http://localhost:8080/qryMyApply?id="+k.id).then((function(e){g(e.data.data),console.log(e)})),function(){}}),[]);var X=[{title:(0,b.jsxs)(a.Z,{title:"\u70b9\u51fb\u67e5\u770b\u7269\u54c1\u8be6\u7ec6\u4fe1\u606f",children:["\u6211\u7684\u7269\u54c1 ",(0,b.jsx)(y.Z,{})]}),key:"applyerid",render:function(e,t){return(0,b.jsx)(j.Z,{title:t.applyTitle,onClick:function(){ee(t)}})}},{title:(0,b.jsxs)(a.Z,{title:"\u70b9\u51fb\u67e5\u770b\u7269\u54c1\u8be6\u7ec6\u4fe1\u606f",children:["\u5bf9\u65b9\u7269\u54c1 ",(0,b.jsx)(y.Z,{})]}),key:"address",render:function(e,t){return(0,b.jsx)(j.Z,{title:t.respondentTitle,onClick:function(){te(t)}})}},{title:"\u72b6\u6001",key:"changetype",width:"8%",filters:[{text:"\u5f85\u540c\u610f",value:0},{text:"\u5df2\u540c\u610f",value:1},{text:"\u5df2\u62d2\u7edd",value:2}],render:function(e,t){return(0,b.jsx)(i.Z,{size:"middle",children:0==t.changetype?(0,b.jsx)(l.Z,{color:"lime",children:"\u7b49\u5f85\u5bf9\u65b9\u540c\u610f"}):1==t.changetype?(0,b.jsx)(l.Z,{color:"green",children:"\u5df2\u540c\u610f"}):(0,b.jsx)(l.Z,{color:"#f50",children:"\u5df2\u62d2\u7edd"})})},onFilter:function(e,t){return t.changetype===e}},{title:"\u5bf9\u65b9\u5feb\u9012\u4fe1\u606f",key:"expressinfo",render:function(e,t){return(0,b.jsx)(i.Z,{size:"middle",children:"1"==t.changetype?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(l.Z,{color:"blue",children:null==t.responderexpressid||""==t.responderexpressid?"TA\u8fd8\u672a\u586b\u5199\u5feb\u9012\u5355\u53f7":t.responderexpressid})}):(0,b.jsx)(b.Fragment,{})},"useraction")}},{title:"\u6211\u7684\u5feb\u9012\u4fe1\u606f",key:"expressinfo",render:function(e,t){return(0,b.jsx)(i.Z,{size:"middle",children:"1"==t.changetype?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Z,{color:"blue",children:null!=t.applyerexpressid||""!=t.applyerexpressid?t.applyerexpressid:"\u8bf7\u586b\u5199\u5feb\u9012\u5355\u53f7"}),(0,b.jsx)(s.Z,{onClick:function(){!function(e){L(!0),K(e)}(t)},children:"\u4fee\u6539"})]}):(0,b.jsx)(b.Fragment,{})},"useraction")}},{title:"\u521b\u5efa\u65f6\u95f4",key:"createtime",sorter:function(e,t){return e.createtime-t.createtime},render:function(e,t){return(0,b.jsx)("span",{children:C()(Number(t.createtime)).format("YYYY-MM-DD HH:mm:ss")})}},{title:"Action",key:"action",render:function(e,t){return(0,b.jsx)(i.Z,{size:"middle",children:0===t.changetype?(0,b.jsx)(s.Z,{type:"primary",danger:!0,onClick:function(){var e;e=t.id,console.log("\u8981\u53d6\u6d88\u7684chanapply\u7684id\u662f",e),H(!0),G(e)},children:"\u53d6\u6d88"}):(0,b.jsx)(b.Fragment,{})})}}],ee=function(e){Z().get("http://localhost:8080/getChaneInfoById?id="+e.applychangeinfoid).then((function(e){console.log("GETCHANGEINFOBYID:",e.data),I([e.data.data]),N(!0)}))},te=function(e){Z().get("http://localhost:8080/getChaneInfoById?id="+e.respondentchangeinfoid).then((function(e){console.log("GETCHANGEINFOBYID:",e.data),I([e.data.data]),M(!0)}))};return(0,b.jsxs)("div",{sylte:{displayl:"flex"},className:"animate__animated animate__fadeIn",children:[(0,b.jsx)(d.Z,{dataSource:n,columns:X}),(0,b.jsx)(u.Z,{title:"\u6211\u7684\u7269\u54c1",placement:"bottom",width:500,onClose:function(){N(!1)},visible:S,children:(0,b.jsx)(f.ZP,{itemLayout:"vertical",size:"large",dataSource:P,renderItem:function(e){return(0,b.jsxs)(f.ZP.Item,{extra:(0,b.jsx)(i.Z,{direction:"vertical",children:(0,b.jsx)(p.Z,{width:135,src:"http://localhost:8080/getChangeInfoPhoto?id=".concat(e.id)})}),children:[(0,b.jsx)(f.ZP.Item.Meta,{avatar:(0,b.jsx)(h.C,{src:"http://localhost:8080/getUserHead?id=".concat(e.createrid)}),title:k.nickname,description:"\u6807\u9898:".concat(e.title)}),e.message]},e.id)}})}),(0,b.jsx)(u.Z,{title:"TA\u7684\u7269\u54c1",placement:"bottom",width:500,onClose:function(){M(!1)},visible:F,children:(0,b.jsx)(f.ZP,{itemLayout:"vertical",size:"large",dataSource:P,renderItem:function(e){return(0,b.jsxs)(f.ZP.Item,{extra:(0,b.jsx)(i.Z,{direction:"vertical",children:(0,b.jsx)(p.Z,{width:135,src:"http://localhost:8080/getChangeInfoPhoto?id=".concat(e.id)})}),children:[(0,b.jsx)(f.ZP.Item.Meta,{avatar:(0,b.jsx)(h.C,{src:"http://localhost:8080/getUserHead?id=".concat(e.createrid)}),title:"".concat(e.nickname,"(").concat(e.city,")"),description:e.title}),e.message]},e.id)}})}),(0,b.jsx)(m.Z,{title:"\u786e\u8ba4",visible:Y,onOk:function(){Z().post("http://localhost:8080/cancelMyChangeApply?changeApplyId="+D).then((function(e){console.log(e),"0"===e.data.state?(r.ZP.success(e.data.message,1),H(!1),setTimeout((function(){window.location.reload()}),800)):(r.ZP.error(e.data.message,1),H(!1))})).catch((function(e){r.ZP.error("\u7f51\u7edc\u5f02\u5e38!",1),H(!1)}))},onCancel:function(){H(!1)},children:"\u53d6\u6d88\u672c\u6b21\u7533\u8bf7?"}),(0,b.jsx)(m.Z,{title:"\u586b\u5199/\u4fee\u6539",visible:q,onCancel:function(){L(!1)},onOk:function(){var e=Q;e.applyerexpressid=W.current.state.value,K(e),console.log(Q),Z().post("http://localhost:8080/saveapplyerexpressid",Q).then((function(e){console.log(e),"0"===e.data.state?(r.ZP.success(e.data.message,1),L(!1),setTimeout((function(){window.location.reload()}),800)):(r.ZP.error(e.data.message,1),L(!1),setTimeout((function(){window.location.reload()}),800))})).catch((function(e){r.ZP.error("\u7f51\u7edc\u5f02\u5e38!",1),L(!1),setTimeout((function(){window.location.reload()}),800)}))},children:(0,b.jsx)(x.Z,{ref:W})})]})}},1544:function(e,t,n){n.d(t,{Z:function(){return l}});var c=n(1413),o=n(2791),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm0 632c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z",fill:t}},{tag:"path",attrs:{d:"M472 732a40 40 0 1080 0 40 40 0 10-80 0zm151.6-415.3C593.6 290.5 554 276 512 276s-81.6 14.4-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.2 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5 0-39.3-17.2-76-48.4-103.3z",fill:e}}]}},name:"question-circle",theme:"twotone"},a=n(4291),i=function(e,t){return o.createElement(a.Z,(0,c.Z)((0,c.Z)({},e),{},{ref:t,icon:r}))};i.displayName="QuestionCircleTwoTone";var l=o.forwardRef(i)},7528:function(e,t,n){n.d(t,{Z:function(){return v}});var c=n(4942),o=n(7462),r=n(9439),a=n(2791),i=n(1694),l=n.n(i),s=n(1818),d=n(732),u=n(9077),f=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n},p=function(e){var t,n=e.prefixCls,r=e.className,i=e.checked,s=e.onChange,d=e.onClick,p=f(e,["prefixCls","className","checked","onChange","onClick"]),h=(0,a.useContext(u.E_).getPrefixCls)("tag",n),m=l()(h,(t={},(0,c.Z)(t,"".concat(h,"-checkable"),!0),(0,c.Z)(t,"".concat(h,"-checkable-checked"),i),t),r);return a.createElement("span",(0,o.Z)({},p,{className:m,onClick:function(e){null===s||void 0===s||s(!i),null===d||void 0===d||d(e)}}))},h=n(4466),m=n(2833),x=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n},g=new RegExp("^(".concat(h.Y.join("|"),")(-inverse)?$")),Z=new RegExp("^(".concat(h.E.join("|"),")$")),y=function(e,t){var n,i=e.prefixCls,f=e.className,p=e.style,h=e.children,y=e.icon,j=e.color,v=e.onClose,C=e.closeIcon,b=e.closable,k=void 0!==b&&b,w=x(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),P=a.useContext(u.E_),I=P.getPrefixCls,O=P.direction,E=a.useState(!0),S=(0,r.Z)(E,2),N=S[0],T=S[1];a.useEffect((function(){"visible"in w&&T(w.visible)}),[w.visible]);var z=function(){return!!j&&(g.test(j)||Z.test(j))},F=(0,o.Z)({backgroundColor:j&&!z()?j:void 0},p),M=z(),A=I("tag",i),_=l()(A,(n={},(0,c.Z)(n,"".concat(A,"-").concat(j),M),(0,c.Z)(n,"".concat(A,"-has-color"),j&&!M),(0,c.Z)(n,"".concat(A,"-hidden"),!N),(0,c.Z)(n,"".concat(A,"-rtl"),"rtl"===O),n),f),Y=function(e){e.stopPropagation(),null===v||void 0===v||v(e),e.defaultPrevented||"visible"in w||T(!1)},H="onClick"in w||h&&"a"===h.type,B=(0,s.Z)(w,["visible"]),R=y||null,D=R?a.createElement(a.Fragment,null,R,a.createElement("span",null,h)):h,G=a.createElement("span",(0,o.Z)({},B,{ref:t,className:_,style:F}),D,k?C?a.createElement("span",{className:"".concat(A,"-close-icon"),onClick:Y},C):a.createElement(d.Z,{className:"".concat(A,"-close-icon"),onClick:Y}):null);return H?a.createElement(m.Z,null,G):G},j=a.forwardRef(y);j.displayName="Tag",j.CheckableTag=p;var v=j}}]);
//# sourceMappingURL=1858.5e3afba5.chunk.js.map