"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[3271],{1864:function(e,n,t){t.d(n,{X:function(){return o}});window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},3271:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var o=t(5861),a=t(9439),r=t(7757),c=t.n(r),i=t(2791),s=t(2862),l=t(6818),d=t(9389),u=t(586),f=t(3695),h=t(3099),m=t(7309),Z=t(1577),g=t(6106),x=t(914),p=t(8243),w=t(5796),v=t(6795),j=t(2464),y=t(6871),k=(t(1864),t(4569)),b=t.n(k),C=t(116),H=t(184),z=s.Z.confirm,S=(l.Z.Option,d.Z.Search);C.Z;function L(){(0,y.s0)();var e=(0,i.useState)(0),n=(0,a.Z)(e,2),t=n[0],r=n[1],l=(0,i.useState)(),k=(0,a.Z)(l,2),C=k[0],L=k[1],P=u.Z.Content,E=(0,i.useState)(!1),R=(0,a.Z)(E,2),T=R[0],_=R[1],O=(0,i.useState)(!1),B=(0,a.Z)(O,2),I=B[0],M=B[1],N=(0,i.useState)(""),G=(0,a.Z)(N,2),W=G[0],q=G[1],A=(0,i.useRef)(),D=(0,i.useRef)(),U=(0,i.useRef)(),X=(0,i.useRef)();(0,i.useEffect)((0,o.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.ZP.destroy(),e.next=3,b().get("http://localhost:8080/qryGoods");case 3:return n=e.sent,r(n.data.data),L(n.data.data),e.abrupt("return",(function(){}));case 7:case"end":return e.stop()}}),e)}))),[]);var F=[{title:"\u7269\u54c1\u540d\u79f0",dataIndex:"goodname",align:"center"},{title:"\u7269\u54c1\u79ef\u5206",dataIndex:"goodpoint",sorter:function(e,n){return e.goodpoint-n.goodpoint}},{title:"Action",key:"action",width:"15%",render:function(e,n){return(0,H.jsxs)(h.Z,{size:"middle",children:[(0,H.jsxs)("a",{onClick:function(){J(n)},children:["\u7f16\u8f91",(0,H.jsx)(v.Z,{})]}),(0,H.jsxs)("a",{onClick:function(){!function(e){z({title:"\u8b66\u544a",icon:(0,H.jsx)(w.Z,{}),content:"\u786e\u8ba4\u8981\u5220\u9664".concat(e.goodname,"\u5417?"),onOk:function(){console.log(e),b().post("http://localhost:8080/deleteUser?id="+e.id).then((function(e){"0"===e.data.state?(f.ZP.success(e.data.message,1),setTimeout((function(){window.location.reload()}),500)):f.ZP.error(e.data.message,1)})).catch((function(e){console.log(e),f.ZP.error("\u7f51\u7edc\u8d85\u65f6!",1)}))},onCancel:function(){}})}(n)},style:{marginLeft:5},children:[" \u5220\u9664",(0,H.jsx)(j.Z,{twoToneColor:"red"})]})]})}}],J=function(e){_(!0),q(e),console.log("\u5f53\u524d\u7269\u54c1id",e)},K=function(){M(!0)},Q=function(){var e=(0,o.Z)(c().mark((function e(){var n,t,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\u4fee\u6539\u7684\u7269\u54c1:",W),n={id:W.id},t=D.current.value||null,o=A.current.state.value||null,n.goodname=o,n.goodpoint=t,n.oldName=W.goodname,console.log("\u4fee\u6539\u7684\u7269\u54c1",n),e.next=10,b().post("http://localhost:8080/editGood",n);case 10:a=e.sent,console.log(a),"0"==a.data.state?(f.ZP.success(a.data.message),window.location.reload()):(f.ZP.error(a.data.message),window.location.reload());case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,o.Z)(c().mark((function e(){var n,t,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t=X.current.value,o=U.current.state.value,n.goodname=o,n.goodpoint=t,console.log("\u65b0\u589e\u7269\u54c1\u4fe1\u606f",n),e.next=8,b().post("http://localhost:8080/addGood",n);case 8:"0"==(a=e.sent).data.state?(f.ZP.success(a.data.message),window.location.reload()):(f.ZP.error(a.data.message),window.location.reload());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){console.log(e);var n;n=t.filter((function(n,t){return console.log(n),-1!=n.goodname.indexOf(e)})),console.log(n),r(n),null!=e&&""!=e||r(C)};return(0,H.jsxs)(P,{style:{minHeight:285},className:"animate__animated animate__fadeIn",children:[(0,H.jsx)(Z.Z,{columns:F,dataSource:t,bordered:!0,title:function(){return(0,H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,H.jsx)("span",{children:"\u7269\u54c1\u7ba1\u7406"}),(0,H.jsxs)(h.Z,{children:[(0,H.jsx)(S,{placeholder:"\u7269\u54c1\u540d\u79f0",onSearch:Y,allowClear:!0,style:{width:200}}),(0,H.jsx)(m.Z,{type:"primary",onClick:K,children:"\u6dfb\u52a0\u7269\u54c1"})]})]})},pagination:{pageSize:8}}),(0,H.jsxs)(s.Z,{title:"\u7f16\u8f91\u7269\u54c1",visible:T,onOk:Q,onCancel:function(){_(!1),{}},centered:!0,children:[(0,H.jsxs)(g.Z,{align:"middle",style:{marginBottom:20},children:[(0,H.jsx)(x.Z,{children:"\u83b7\u5f97\u79ef\u5206:"}),(0,H.jsx)(x.Z,{children:(0,H.jsx)(p.Z,{min:0,max:100,ref:D})})]}),(0,H.jsxs)(g.Z,{align:"middle",children:[(0,H.jsx)(x.Z,{children:"\u7269\u54c1\u540d\u79f0:"}),(0,H.jsx)(x.Z,{children:(0,H.jsx)(d.Z,{maxLength:10,ref:A})})]})]}),(0,H.jsxs)(s.Z,{title:"\u65b0\u589e\u7269\u54c1",visible:I,onOk:V,onCancel:function(){M(!1),{}},centered:!0,children:[(0,H.jsxs)(g.Z,{align:"middle",style:{marginBottom:20},children:[(0,H.jsx)(x.Z,{children:"\u83b7\u5f97\u79ef\u5206:"}),(0,H.jsx)(x.Z,{children:(0,H.jsx)(p.Z,{min:0,max:100,ref:X})})]}),(0,H.jsxs)(g.Z,{align:"middle",children:[(0,H.jsx)(x.Z,{children:"\u7269\u54c1\u540d\u79f0:"}),(0,H.jsx)(x.Z,{children:(0,H.jsx)(d.Z,{maxLength:10,ref:U})})]})]})]})}},2464:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(1413),a=t(2791),r={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:n}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:e}}]}},name:"delete",theme:"twotone"},c=t(4291),i=function(e,n){return a.createElement(c.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:n,icon:r}))};i.displayName="DeleteTwoTone";var s=a.forwardRef(i)},6795:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(1413),a=t(2791),r={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:n}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"},c=t(4291),i=function(e,n){return a.createElement(c.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:n,icon:r}))};i.displayName="EditTwoTone";var s=a.forwardRef(i)}}]);
//# sourceMappingURL=3271.ba99d7da.chunk.js.map