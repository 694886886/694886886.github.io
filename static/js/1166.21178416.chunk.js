"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[1166],{1864:function(e,t,n){n.d(t,{X:function(){return r}});window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},1166:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(5861),a=n(9439),c=n(7757),o=n.n(c),i=n(2791),s=n(2862),l=n(9389),u=n(586),f=n(3695),d=n(9228),h=n(9553),p=n(2649),m=n(3099),g=n(7309),v=n(1577),y=n(5796),x=n(6795),Z=n(2464),w=n(8159),j=n(6871),b=n(4569),C=n.n(b),E=n(1864),P=n(184),z=s.Z.confirm,O={},S={},k=l.Z.Search;function N(){(0,j.s0)();var e=(0,i.useState)(0),t=(0,a.Z)(e,2),n=t[0],c=t[1],b=(0,i.useState)(0),N=(0,a.Z)(b,2),T=N[0],R=N[1],H=(u.Z.Content,i.useState(!1)),L=(0,a.Z)(H,2),_=L[0],G=L[1],I=i.useState(!1),M=(0,a.Z)(I,2),X=M[0],W=M[1],A=(0,i.useRef)(),B=(0,i.useRef)(),D=(0,i.useRef)(),q=(0,i.useRef)(),F=(0,i.useRef)(),Q=(0,i.useRef)();(0,i.useEffect)((0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.ZP.destroy(),e.next=3,C().get("http://localhost:8080/getGiftList");case 3:return t=e.sent,e.next=6,t.data.data;case 6:return n=e.sent,console.log(n),c(n),R(n),e.abrupt("return",(function(){}));case 11:case"end":return e.stop()}}),e)}))),[]);var V=function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?f.ZP.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&f.ZP.error("".concat(e.file.name," file upload failed."))},J=[{title:"\u793c\u54c1\u540d\u79f0",dataIndex:"name",width:"20%",align:"center"},{title:"\u56fe\u7247",dataIndex:"photo",width:"20%",align:"center",render:function(e,t){return(0,P.jsx)(d.Z,{placement:"topLeft",content:"\u70b9\u51fb\u4fee\u6539\u56fe\u7247",children:(0,P.jsx)(h.Z,{maxCount:1,action:"http://localhost:8080/saveGiftPhoto?id=".concat(t.id),onChange:V,children:(0,P.jsx)(p.C,{shape:"square",src:"http://localhost:8080/getGiftPhoto?id=".concat(t.id),alt:"\u793c\u7269\u56fe\u7247",size:100})})})}},{title:"\u4ef7\u683c",dataIndex:"price",width:"20%",align:"center"},{title:"\u5e93\u5b58",dataIndex:"stock",width:"20%",align:"center"},{title:"Action",key:"action",width:"15%",render:function(e,t){return(0,P.jsxs)(m.Z,{size:"middle",children:[(0,P.jsxs)("a",{onClick:function(){K(t)},children:["\u7f16\u8f91",(0,P.jsx)(x.Z,{})]}),(0,P.jsxs)("a",{onClick:function(){!function(e){z({title:"\u8b66\u544a",icon:(0,P.jsx)(y.Z,{}),content:"\u786e\u8ba4\u8981\u5220\u9664".concat(e.name,"\u5417?"),onOk:function(){console.log(e.id),C().post("http://localhost:8080/deleteGift?id="+e.id).then((function(e){"0"===e.data.state?(f.ZP.success(e.data.message,1),setTimeout((function(){window.location.reload()}),500)):f.ZP.error(e.data.message,1)})).catch((function(e){f.ZP.error("\u7f51\u7edc\u8d85\u65f6!",1)}))},onCancel:function(){}})}(t)},style:{marginLeft:5},children:[" \u5220\u9664",(0,P.jsx)(Z.Z,{twoToneColor:"red"})]})]})}}],K=function(e){G(!0),O.id=e.id,A.current.state.value="",B.current.state.value="",D.current.state.value=""},U=function(e){W(!0),O.id=e.id,A.current.state.value="",B.current.state.value="",D.current.state.value=""},Y=function(){C().get("http://localhost:8080/getNoPhotoGiftList").then((function(e){"0"===e.data.state?c(e.data.data):f.ZP.error(e.data.message,1)})).catch((function(e){console.log(e),f.ZP.error("\u8bf7\u6c42\u5931\u8d25!",1)}))},$=function(e){console.log(e);var t;t=n.filter((function(t,n){return console.log(t),-1!=t.name.indexOf(e)})),console.log(t),c(t),null!=e&&""!=e||c(T)};return(0,P.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[(0,P.jsx)(v.Z,{columns:J,dataSource:n,title:function(){return(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsx)("span",{children:"\u793c\u7269\u7ba1\u7406"}),(0,P.jsxs)(m.Z,{children:[(0,P.jsx)(k,{placeholder:"\u793c\u7269\u540d\u79f0",onSearch:$,allowClear:!0,style:{width:200}}),(0,P.jsx)(g.Z,{onClick:U,type:"primary",icon:(0,P.jsx)(w.Z,{twoToneColor:"#eb2f96"}),children:"\u6dfb\u52a0\u793c\u7269"}),(0,P.jsx)(g.Z,{onClick:Y,type:"primary",children:"\u65e0\u56fe\u7247\u793c\u7269"})]})]})},pagination:{pageSize:4}}),(0,P.jsxs)(s.Z,{title:"\u7f16\u8f91\u793c\u54c1\u4fe1\u606f",visible:_,onOk:function(){O.name=A.current.state.value||null,O.price=B.current.state.value||null,O.stock=D.current.state.value||null,console.log("\u8be5\u793c\u7269\u4fee\u6539\u540e\u4fe1\u606f:",O),C().post("http://localhost:8080/editGift",O).then((function(e){"0"===e.data.state?(f.ZP.success(e.data.message,1),G(!1),setTimeout((function(){window.location.reload()}),300)):(f.ZP.error(e.data.message,1),G(!1))})).catch((function(e){f.ZP.error("\u8bf7\u6c42\u8d85\u65f6!",1)}))},onCancel:function(){G(!1),O={}},width:"40%",centered:!0,children:[(0,P.jsxs)("p",{style:{display:"flex"},children:[(0,P.jsx)("span",{style:{margin:10,width:70},children:"\u793c\u54c1\u540d\u79f0"}),(0,P.jsx)(l.Z,{style:{width:.2*E.X},ref:A}),(0,P.jsx)("br",{})]}),(0,P.jsxs)("p",{style:{display:"flex"},children:[(0,P.jsx)("span",{style:{margin:10,width:70},children:"\u4ef7\u683c"}),(0,P.jsx)(l.Z,{type:"number",style:{width:.2*E.X},ref:B}),(0,P.jsx)("br",{})]}),(0,P.jsxs)("p",{style:{display:"flex"},children:[(0,P.jsx)("span",{style:{margin:10,width:70},children:"\u5e93\u5b58"}),(0,P.jsx)(l.Z,{type:"number",style:{width:.2*E.X},ref:D}),(0,P.jsx)("br",{})]})]}),(0,P.jsxs)(s.Z,{title:"\u6dfb\u52a0\u793c\u54c1",visible:X,onOk:function(){S.name=q.current.state.value||null,S.price=F.current.state.value||null,S.stock=Q.current.state.value||null,console.log("\u65b0\u589e\u7684\u793c\u7269\u4fe1\u606f:",S),C().post("http://localhost:8080/addGift",S).then((function(e){"0"===e.data.state?(f.ZP.success(e.data.message,1),G(!1),setTimeout((function(){window.location.reload()}),300)):(f.ZP.error(e.data.message,1),G(!1),setTimeout((function(){window.location.reload()}),300))})).catch((function(e){f.ZP.error("\u8bf7\u6c42\u8d85\u65f6!",1),G(!1)}))},onCancel:function(){W(!1),S={}},width:"40%",centered:!0,children:[(0,P.jsxs)("p",{style:{display:"flex"},children:[(0,P.jsx)("span",{style:{margin:10,width:70},children:"\u793c\u54c1\u540d\u79f0"}),(0,P.jsx)(l.Z,{style:{width:.2*E.X},ref:q}),(0,P.jsx)("br",{})]}),(0,P.jsxs)("p",{style:{display:"flex"},children:[(0,P.jsx)("span",{style:{margin:10,width:70},children:"\u4ef7\u683c"}),(0,P.jsx)(l.Z,{type:"number",style:{width:.2*E.X},ref:F}),(0,P.jsx)("br",{})]}),(0,P.jsxs)("p",{style:{display:"flex"},children:[(0,P.jsx)("span",{style:{margin:10,width:70},children:"\u5e93\u5b58"}),(0,P.jsx)(l.Z,{type:"number",style:{width:.2*E.X},ref:Q}),(0,P.jsx)("br",{})]})]})]})}},2464:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1413),a=n(2791),c={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:t}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:e}}]}},name:"delete",theme:"twotone"},o=n(4291),i=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:c}))};i.displayName="DeleteTwoTone";var s=a.forwardRef(i)},6795:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1413),a=n(2791),c={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"},o=n(4291),i=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:c}))};i.displayName="EditTwoTone";var s=a.forwardRef(i)},8159:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1413),a=n(2791),c={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z",fill:e}},{tag:"path",attrs:{d:"M679.7 201c-73.1 0-136.5 40.8-167.7 100.4C480.8 241.8 417.4 201 344.3 201c-104 0-188.3 82.6-188.3 184.5 0 201.2 356 429.3 356 429.3s356-228.1 356-429.3C868 283.6 783.7 201 679.7 201z",fill:t}}]}},name:"heart",theme:"twotone"},o=n(4291),i=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:c}))};i.displayName="HeartTwoTone";var s=a.forwardRef(i)},7924:function(e,t,n){n.d(t,{Z:function(){return r}});var r=function(e){return e?"function"===typeof e?e():e:null}},2649:function(e,t,n){n.d(t,{C:function(){return O}});var r=n(7462),a=n(4942),c=n(1002),o=n(9439),i=n(2791),s=n(1694),l=n.n(s),u=n(8829),f=n(8834),d=n(9077),h=n(4824),p=n(8295),m=n(2832),g=i.createContext("default"),v=function(e){var t=e.children,n=e.size;return i.createElement(g.Consumer,null,(function(e){return i.createElement(g.Provider,{value:n||e},t)}))},y=g,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Z=function(e,t){var n,s,g=i.useContext(y),v=i.useState(1),Z=(0,o.Z)(v,2),w=Z[0],j=Z[1],b=i.useState(!1),C=(0,o.Z)(b,2),E=C[0],P=C[1],z=i.useState(!0),O=(0,o.Z)(z,2),S=O[0],k=O[1],N=i.useRef(),T=i.useRef(),R=(0,f.sQ)(t,N),H=i.useContext(d.E_).getPrefixCls,L=function(){if(T.current&&N.current){var t=T.current.offsetWidth,n=N.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,a=void 0===r?4:r;2*a<n&&j(n-2*a<t?(n-2*a)/t:1)}}};i.useEffect((function(){P(!0)}),[]),i.useEffect((function(){k(!0),j(1)}),[e.src]),i.useEffect((function(){L()}),[e.gap]);var _=e.prefixCls,G=e.shape,I=e.size,M=e.src,X=e.srcSet,W=e.icon,A=e.className,B=e.alt,D=e.draggable,q=e.children,F=e.crossOrigin,Q=x(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),V="default"===I?g:I,J=(0,m.Z)(),K=i.useMemo((function(){if("object"!==(0,c.Z)(V))return{};var e=p.c4.find((function(e){return J[e]})),t=V[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:W?t/2:18}:{}}),[J,V]);(0,h.Z)(!("string"===typeof W&&W.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(W,"` at https://ant.design/components/icon"));var U,Y=H("avatar",_),$=l()((n={},(0,a.Z)(n,"".concat(Y,"-lg"),"large"===V),(0,a.Z)(n,"".concat(Y,"-sm"),"small"===V),n)),ee=i.isValidElement(M),te=l()(Y,$,(s={},(0,a.Z)(s,"".concat(Y,"-").concat(G),!!G),(0,a.Z)(s,"".concat(Y,"-image"),ee||M&&S),(0,a.Z)(s,"".concat(Y,"-icon"),!!W),s),A),ne="number"===typeof V?{width:V,height:V,lineHeight:"".concat(V,"px"),fontSize:W?V/2:18}:{};if("string"===typeof M&&S)U=i.createElement("img",{src:M,draggable:D,srcSet:X,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&k(!1)},alt:B,crossOrigin:F});else if(ee)U=M;else if(W)U=W;else if(E||1!==w){var re="scale(".concat(w,") translateX(-50%)"),ae={msTransform:re,WebkitTransform:re,transform:re},ce="number"===typeof V?{lineHeight:"".concat(V,"px")}:{};U=i.createElement(u.Z,{onResize:L},i.createElement("span",{className:"".concat(Y,"-string"),ref:function(e){T.current=e},style:(0,r.Z)((0,r.Z)({},ce),ae)},q))}else U=i.createElement("span",{className:"".concat(Y,"-string"),style:{opacity:0},ref:function(e){T.current=e}},q);return delete Q.onError,delete Q.gap,i.createElement("span",(0,r.Z)({},Q,{style:(0,r.Z)((0,r.Z)((0,r.Z)({},ne),K),Q.style),className:te,ref:R}),U)},w=i.forwardRef(Z);w.displayName="Avatar",w.defaultProps={shape:"circle",size:"default"};var j=w,b=n(5501),C=n(1113),E=n(9228),P=function(e){var t=i.useContext(d.E_),n=t.getPrefixCls,r=t.direction,c=e.prefixCls,o=e.className,s=void 0===o?"":o,u=e.maxCount,f=e.maxStyle,h=e.size,p=n("avatar-group",c),m=l()(p,(0,a.Z)({},"".concat(p,"-rtl"),"rtl"===r),s),g=e.children,y=e.maxPopoverPlacement,x=void 0===y?"top":y,Z=e.maxPopoverTrigger,w=void 0===Z?"hover":Z,P=(0,b.Z)(g).map((function(e,t){return(0,C.Tm)(e,{key:"avatar-key-".concat(t)})})),z=P.length;if(u&&u<z){var O=P.slice(0,u),S=P.slice(u,z);return O.push(i.createElement(E.Z,{key:"avatar-popover-key",content:S,trigger:w,placement:x,overlayClassName:"".concat(p,"-popover")},i.createElement(j,{style:f},"+".concat(z-u)))),i.createElement(v,{size:h},i.createElement("div",{className:m,style:e.style},O))}return i.createElement(v,{size:h},i.createElement("div",{className:m,style:e.style},P))},z=j;z.Group=P;var O=z},9228:function(e,t,n){var r=n(7462),a=n(2791),c=n(4469),o=n(9077),i=n(7924),s=n(9464),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=a.forwardRef((function(e,t){var n=e.prefixCls,u=e.title,f=e.content,d=l(e,["prefixCls","title","content"]),h=a.useContext(o.E_).getPrefixCls,p=h("popover",n),m=h();return a.createElement(c.Z,(0,r.Z)({},d,{prefixCls:p,ref:t,overlay:function(e){return a.createElement(a.Fragment,null,u&&a.createElement("div",{className:"".concat(e,"-title")},(0,i.Z)(u)),a.createElement("div",{className:"".concat(e,"-inner-content")},(0,i.Z)(f)))}(p),transitionName:(0,s.m)(m,"zoom-big",d.transitionName)}))}));u.displayName="Popover",u.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},t.Z=u}}]);
//# sourceMappingURL=1166.21178416.chunk.js.map