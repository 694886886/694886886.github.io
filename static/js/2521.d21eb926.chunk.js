"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[2521],{5171:function(e,n,t){t.d(n,{Z:function(){return s}});t(2791);var o=t(521),r=t(184),c=o.Z.Text;function s(e){return(0,r.jsx)("span",{style:{cursor:"pointer"},onClick:e.onClick,children:(0,r.jsx)(c,{keyboard:!0,children:e.title})})}},2521:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var o=t(5861),r=t(9439),c=t(7757),s=t.n(c),a=t(2791),i=t(521),l=t(2862),u=t(3695),d=t(6106),f=t(7528),m=t(4469),g=t(3099),p=t(7309),h=t(914),Z=t(8243),x=t(1577),y=t(1544),v=t(4569),j=t.n(v),b=t(5171),k=t(2426),C=t.n(k),w=t(184),O=i.Z.Text;function E(){var e=JSON.parse(localStorage.getItem("loginOrg")),n=(0,a.useState)([]),t=(0,r.Z)(n,2),c=t[0],i=t[1],v=(0,a.useState)([]),k=(0,r.Z)(v,2),E=(k[0],k[1],(0,a.useState)(!1)),P=(0,r.Z)(E,2),S=(P[0],P[1],(0,a.useState)(!1)),N=(0,r.Z)(S,2),T=(N[0],N[1],(0,a.useState)(!1)),z=(0,r.Z)(T,2),M=(z[0],z[1],(0,a.useState)()),D=(0,r.Z)(M,2);D[0],D[1],(0,a.useRef)();(0,a.useEffect)((0,o.Z)(s().mark((function n(){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j().get("http://localhost:8080/qryForMeDonation?orgid="+e.id);case 2:return t=n.sent,i(t.data.data),console.log(t),n.abrupt("return",(function(){}));case 6:case"end":return n.stop()}}),n)}))),[]);var F=[{title:"\u7528\u6237\u6635\u79f0",key:"nickname",render:function(e,n){return(0,w.jsx)(O,{type:"secondary",children:n.nickname})}},{title:(0,w.jsxs)(m.Z,{title:"\u70b9\u51fb\u67e5\u770b\u8be6\u60c5",children:["\u7269\u54c1\u6570\u91cf ",(0,w.jsx)(y.Z,{})]}),ellipsis:!0,key:"address",render:function(e,n){return(0,w.jsx)(g.Z,{onClick:function(){!function(e){l.Z.info({title:"\u8be6\u7ec6\u4fe1\u606f",content:(0,w.jsx)(d.Z,{children:e.dodetail.map((function(e,n){return(0,w.jsxs)(f.Z,{color:"green",children:[e.goodsname,"X",e.goodsnum]})}))})})}(n)},children:n.dodetail.map((function(e,n){return(0,w.jsxs)(f.Z,{color:"green",children:[e.goodsname,"X",e.goodsnum]})}))})}},{title:(0,w.jsxs)(m.Z,{title:"\u7269\u54c1\u6570\u91cf\u6b63\u786e\u5c06\u83b7\u5f97\u7684\u79ef\u5206,\u5982\u6709\u8bef\u8bf7\u4fee\u6539",children:[(0,w.jsx)("span",{children:"\u9884\u8ba1\u79ef\u5206 "}),(0,w.jsx)(y.Z,{})]}),key:"point",render:function(e,n){return(0,w.jsx)(O,{type:"secondary",children:n.point})}},{title:"\u7269\u6d41\u7f16\u53f7",key:"dostate",render:function(e,n){return(0,w.jsx)(b.Z,{title:n.doexpress})}},{title:"\u65e5\u671f",key:"createtime",ellipsis:!0,sorter:function(e,n){return e.createtime-n.createtime},render:function(e,n){return(0,w.jsx)(b.Z,{title:C()(Number(n.createtime)).format("YYYY-MM-DD HH:mm:ss")})}},{title:"Action",key:"action",render:function(e,n){return(0,w.jsx)(g.Z,{size:"middle",children:"1"==n.dostate?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.Z,{type:"primary",onClick:function(){!function(e){l.Z.confirm({title:"\u786e\u8ba4",content:(0,w.jsx)("div",{children:(0,w.jsx)("p",{children:"\u8bf7\u786e\u8ba4\u7269\u54c1\u4fe1\u606f\u53ca\u6570\u91cf\u6b63\u786e,\u901a\u8fc7\u540e\u5c06\u53d1\u653e\u672c\u6b21\u79ef\u5206"})}),onOk:function(){console.log(e),j().post("http://localhost:8080/agreeDo",e).then((function(e){"0"==e.data.state?(u.ZP.success(e.data.message,1),setTimeout((function(){window.location.reload()}),300)):u.ZP.error(e.data.message,1)})).catch((function(e){u.ZP.error("\u7f51\u7edc\u5f02\u5e38!"),setTimeout((function(){window.location.reload()}),300)}))}})}(n)},children:"\u901a\u8fc7"}),(0,w.jsx)(p.Z,{danger:!0,type:"primary",onClick:function(){I(n)},children:"\u4fee\u6539"})]}):(0,w.jsx)(w.Fragment,{})},"useraction")}}],I=function(e){console.log(e);var n={doid:e.doid,goods:[]};l.Z.confirm({title:"\u4fee\u6539\u6570\u91cf",content:(0,w.jsx)(w.Fragment,{children:e.dodetail.map((function(e,t){return(0,w.jsxs)(d.Z,{align:"middle",justify:"space-between",style:{width:"80%",margin:"0 auto",marginBottom:10},children:[(0,w.jsx)(h.Z,{children:(0,w.jsx)(f.Z,{color:"green",children:e.goodsname})}),(0,w.jsx)(h.Z,{children:(0,w.jsx)(Z.Z,{min:0,max:100,controls:!1,onChange:function(t){0==n.goods.length&&n.goods.push({goodsname:e.goodsname,goodsnum:t.eventPhase});for(var o=0;o<n.goods.length;o++)n.goods[o].goodsname==e.goodsname?n.goods[o].goodsnum=t:o==n.goods.length-1&&n.goods.push({goodsname:e.goodsname,goodsnum:t})}})})]})}))}),onOk:function(){console.log(n),n.goods.length>0&&j().post("http://localhost:8080/editDo",n).then((function(e){"0"===e.data.state?(u.ZP.success(e.data.message,1),setTimeout((function(){window.location.reload()}),500)):u.ZP.error(e.data.message,1)}))}})};return(0,w.jsx)("div",{sylte:{displayl:"flex"},children:(0,w.jsx)(x.Z,{dataSource:c,columns:F})})}},1544:function(e,n,t){t.d(n,{Z:function(){return i}});var o=t(1413),r=t(2791),c={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm0 632c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z",fill:n}},{tag:"path",attrs:{d:"M472 732a40 40 0 1080 0 40 40 0 10-80 0zm151.6-415.3C593.6 290.5 554 276 512 276s-81.6 14.4-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.2 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5 0-39.3-17.2-76-48.4-103.3z",fill:e}}]}},name:"question-circle",theme:"twotone"},s=t(4291),a=function(e,n){return r.createElement(s.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:n,icon:c}))};a.displayName="QuestionCircleTwoTone";var i=r.forwardRef(a)},7528:function(e,n,t){t.d(n,{Z:function(){return j}});var o=t(4942),r=t(7462),c=t(9439),s=t(2791),a=t(1694),i=t.n(a),l=t(1818),u=t(732),d=t(9077),f=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t},m=function(e){var n,t=e.prefixCls,c=e.className,a=e.checked,l=e.onChange,u=e.onClick,m=f(e,["prefixCls","className","checked","onChange","onClick"]),g=(0,s.useContext(d.E_).getPrefixCls)("tag",t),p=i()(g,(n={},(0,o.Z)(n,"".concat(g,"-checkable"),!0),(0,o.Z)(n,"".concat(g,"-checkable-checked"),a),n),c);return s.createElement("span",(0,r.Z)({},m,{className:p,onClick:function(e){null===l||void 0===l||l(!a),null===u||void 0===u||u(e)}}))},g=t(4466),p=t(2833),h=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t},Z=new RegExp("^(".concat(g.Y.join("|"),")(-inverse)?$")),x=new RegExp("^(".concat(g.E.join("|"),")$")),y=function(e,n){var t,a=e.prefixCls,f=e.className,m=e.style,g=e.children,y=e.icon,v=e.color,j=e.onClose,b=e.closeIcon,k=e.closable,C=void 0!==k&&k,w=h(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),O=s.useContext(d.E_),E=O.getPrefixCls,P=O.direction,S=s.useState(!0),N=(0,c.Z)(S,2),T=N[0],z=N[1];s.useEffect((function(){"visible"in w&&z(w.visible)}),[w.visible]);var M=function(){return!!v&&(Z.test(v)||x.test(v))},D=(0,r.Z)({backgroundColor:v&&!M()?v:void 0},m),F=M(),I=E("tag",a),R=i()(I,(t={},(0,o.Z)(t,"".concat(I,"-").concat(v),F),(0,o.Z)(t,"".concat(I,"-has-color"),v&&!F),(0,o.Z)(t,"".concat(I,"-hidden"),!T),(0,o.Z)(t,"".concat(I,"-rtl"),"rtl"===P),t),f),Y=function(e){e.stopPropagation(),null===j||void 0===j||j(e),e.defaultPrevented||"visible"in w||z(!1)},V="onClick"in w||g&&"a"===g.type,_=(0,l.Z)(w,["visible"]),q=y||null,B=q?s.createElement(s.Fragment,null,q,s.createElement("span",null,g)):g,H=s.createElement("span",(0,r.Z)({},_,{ref:n,className:R,style:D}),B,C?b?s.createElement("span",{className:"".concat(I,"-close-icon"),onClick:Y},b):s.createElement(u.Z,{className:"".concat(I,"-close-icon"),onClick:Y}):null);return V?s.createElement(p.Z,null,H):H},v=s.forwardRef(y);v.displayName="Tag",v.CheckableTag=m;var j=v}}]);
//# sourceMappingURL=2521.d21eb926.chunk.js.map