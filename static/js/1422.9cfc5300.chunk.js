"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[1422],{5171:function(e,t,n){n.d(t,{Z:function(){return a}});n(2791);var c=n(521),o=n(184),r=c.Z.Text;function a(e){return(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:e.onClick,children:(0,o.jsx)(r,{keyboard:!0,children:e.title})})}},1422:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var c=n(9439),o=n(2791),r=n(2862),a=n(3695),i=n(4469),l=n(3099),s=n(7528),d=n(7309),u=n(1577),f=n(8894),h=n(2126),p=n(6755),g=n(2649),m=n(9389),x=n(5527),Z=n(6110),j=n(4569),v=n.n(j),y=n(1544),C=n(5171),w=n(184);function b(){var e=JSON.parse(localStorage.getItem("loginUser")),t=(0,o.useState)([]),n=(0,c.Z)(t,2),j=n[0],b=n[1],k=(0,o.useState)([]),P=(0,c.Z)(k,2),O=P[0],z=P[1],E=(0,o.useState)(!1),I=(0,c.Z)(E,2),T=I[0],S=I[1],N=(0,o.useState)(!1),M=(0,c.Z)(N,2),F=M[0],R=M[1],_=(0,o.useState)(!1),B=(0,c.Z)(_,2),L=B[0],H=B[1],A=(0,o.useState)(),G=(0,c.Z)(A,2),V=G[0],U=G[1],Y=(0,o.useRef)();(0,o.useEffect)((function(){return v().get("http://localhost:8080/qryMyRespondent?id="+e.id).then((function(e){b(e.data.data),console.log(e)})),function(){}}),[]);var q=[{title:(0,w.jsxs)(i.Z,{title:"\u70b9\u51fb\u67e5\u770b\u7269\u54c1\u8be6\u7ec6\u4fe1\u606f",children:["\u6211\u7684\u7269\u54c1 ",(0,w.jsx)(y.Z,{})]}),key:"responderrid",render:function(e,t){return(0,w.jsx)(C.Z,{title:t.respondentTitle,onClick:function(){D(t)}})}},{title:(0,w.jsxs)(i.Z,{title:"\u70b9\u51fb\u67e5\u770b\u7269\u54c1\u8be6\u7ec6\u4fe1\u606f",children:["\u5bf9\u65b9\u7269\u54c1 ",(0,w.jsx)(y.Z,{})]}),key:"address",render:function(e,t){return(0,w.jsx)(C.Z,{title:t.applyTitle,onClick:function(){$(t)}})}},{title:"\u72b6\u6001",key:"changetype",width:"8%",filters:[{text:"\u5f85\u540c\u610f",value:0},{text:"\u5df2\u540c\u610f",value:1},{text:"\u5df2\u62d2\u7edd",value:2}],render:function(e,t){return(0,w.jsx)(l.Z,{size:"middle",children:0==t.changetype?(0,w.jsx)(s.Z,{color:"lime",children:"\u7b49\u5f85\u60a8\u540c\u610f"}):1==t.changetype?(0,w.jsx)(s.Z,{color:"green",children:"\u5df2\u540c\u610f"}):(0,w.jsx)(s.Z,{color:"#f50",children:"\u5df2\u62d2\u7edd"})},"changetype")},onFilter:function(e,t){return t.changetype===e}},{title:"\u5bf9\u65b9\u5feb\u9012\u4fe1\u606f",key:"expressinfo",render:function(e,t){return(0,w.jsx)(l.Z,{size:"middle",children:"1"==t.changetype?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(s.Z,{color:"blue",children:null!=t.applyerexpressid||""!=t.applyerexpressid?t.applyerexpressid:"TA\u8fd8\u672a\u586b\u5199\u5feb\u9012\u5355\u53f7"})}):(0,w.jsx)(w.Fragment,{})},"useraction")}},{title:"\u6211\u7684\u5feb\u9012\u4fe1\u606f",key:"expressinfo",render:function(e,t){return(0,w.jsx)(l.Z,{size:"middle",children:"1"==t.changetype?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.Z,{color:"blue",children:null==t.responderexpressid||""==t.responderexpressid?"\u8bf7\u586b\u5199\u5feb\u9012\u5355\u53f7":t.responderexpressid}),(0,w.jsx)(d.Z,{onClick:function(){J(t)},children:"\u586b\u5199/\u4fee\u6539"})]}):(0,w.jsx)(w.Fragment,{})},"useraction")}},{title:"Action",key:"action",render:function(e,t){return(0,w.jsx)(l.Z,{size:"middle",children:"0"==t.changetype?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("a",{onClick:function(){!function(e){r.Z.confirm({title:"\u786e\u8ba4",content:(0,w.jsx)("div",{children:(0,w.jsx)("p",{children:"\u540c\u610f\u672c\u6b21\u7533\u8bf7?"})}),onOk:function(){console.log(e),v().post("http://localhost:8080/agreeMyChangeRespondent",e).then((function(e){console.log(e),"0"===e.data.state?(a.ZP.success(e.data.message,1),setTimeout((function(){window.location.reload()}),800)):a.ZP.error(e.data.message,1)})).catch((function(e){a.ZP.error("\u7f51\u7edc\u5f02\u5e38!",1)}))}})}(t)},children:(0,w.jsx)(x.Z,{twoToneColor:"#00ff00"})}),(0,w.jsx)("a",{onClick:function(){!function(e){r.Z.confirm({title:"\u786e\u8ba4",content:(0,w.jsx)("div",{children:(0,w.jsx)("p",{children:"\u62d2\u7edd\u672c\u6b21\u7533\u8bf7?"})}),onOk:function(){console.log(e),v().post("http://localhost:8080/rejectMyChangeRespondent",e).then((function(e){console.log(e),"0"===e.data.state?(a.ZP.success(e.data.message,1),setTimeout((function(){window.location.reload()}),800)):a.ZP.error(e.data.message,1)})).catch((function(e){a.ZP.error("\u7f51\u7edc\u5f02\u5e38!",1)}))}})}(t)},children:(0,w.jsx)(Z.Z,{twoToneColor:"#eb2f96"})})]}):(0,w.jsx)(w.Fragment,{})},"useraction")}}],D=function(e){v().get("http://localhost:8080/getChaneInfoById?id="+e.respondentchangeinfoid).then((function(e){console.log("GETCHANGEINFOBYID:",e.data),z([e.data.data]),S(!0)}))},$=function(e){v().get("http://localhost:8080/getChaneInfoById?id="+e.applychangeinfoid).then((function(e){console.log("GETCHANGEINFOBYID:",e.data),z([e.data.data]),R(!0)}))},J=function(e){H(!0),U(e)};return(0,w.jsxs)("div",{sylte:{displayl:"flex"},className:"animate__animated animate__fadeIn",children:[(0,w.jsx)(u.Z,{dataSource:j,columns:q}),(0,w.jsx)(f.Z,{title:"\u6211\u7684\u7269\u54c1",placement:"bottom",width:500,onClose:function(){S(!1)},visible:T,children:(0,w.jsx)(h.ZP,{itemLayout:"vertical",size:"large",dataSource:O,renderItem:function(t){return(0,w.jsxs)(h.ZP.Item,{extra:(0,w.jsx)(l.Z,{direction:"vertical",children:(0,w.jsx)(p.Z,{width:135,src:"http://localhost:8080/getChangeInfoPhoto?id=".concat(t.id)})},"changeinfophoto1"),children:[(0,w.jsx)(h.ZP.Item.Meta,{avatar:(0,w.jsx)(g.C,{src:"http://localhost:8080/getUserHead?id=".concat(t.createrid)}),title:e.nickname,description:"\u6807\u9898:".concat(t.title)},"userhead"),t.message]},t.id)}},"changeinfo1")}),(0,w.jsx)(f.Z,{title:"TA\u7684\u7269\u54c1",placement:"bottom",width:500,onClose:function(){R(!1)},visible:F,children:(0,w.jsx)(h.ZP,{itemLayout:"vertical",size:"large",dataSource:O,renderItem:function(e){return(0,w.jsxs)(h.ZP.Item,{extra:(0,w.jsx)(l.Z,{direction:"vertical",children:(0,w.jsx)(p.Z,{width:135,src:"http://localhost:8080/getChangeInfoPhoto?id=".concat(e.id)})},"changeinfophoto2"),children:[(0,w.jsx)(h.ZP.Item.Meta,{avatar:(0,w.jsx)(g.C,{src:"http://localhost:8080/getUserHead?id=".concat(e.createrid)}),title:"".concat(e.nickname,"(").concat(e.city,")"),description:"\u6807\u9898:".concat(e.title)},"userhead2"),e.message,(0,w.jsxs)("p",{children:["\u8be6\u7ec6\u5730\u5740:",e.address]})]},e.id)}},"changeinfo2")}),(0,w.jsx)(r.Z,{title:"\u586b\u5199\u7269\u6d41\u5355\u53f7",visible:L,onCancel:function(){H(!1)},onOk:function(){var e=V;e.responderexpressid=Y.current.state.value,U(e),console.log(V),v().post("http://localhost:8080/saveresponderexpressid",V).then((function(e){console.log(e),"0"===e.data.state?(a.ZP.success(e.data.message,1),H(!1),setTimeout((function(){window.location.reload()}),800)):(a.ZP.error(e.data.message,1),H(!1),setTimeout((function(){window.location.reload()}),800))})).catch((function(e){a.ZP.error("\u7f51\u7edc\u5f02\u5e38!",1),H(!1),setTimeout((function(){window.location.reload()}),800)}))},children:(0,w.jsx)(m.Z,{ref:Y})})]})}},5527:function(e,t,n){n.d(t,{Z:function(){return l}});var c=n(1413),o=n(2791),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:t}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:e}}]}},name:"check-circle",theme:"twotone"},a=n(4291),i=function(e,t){return o.createElement(a.Z,(0,c.Z)((0,c.Z)({},e),{},{ref:t,icon:r}))};i.displayName="CheckCircleTwoTone";var l=o.forwardRef(i)},6110:function(e,t,n){n.d(t,{Z:function(){return l}});var c=n(1413),o=n(2791),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:t}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:e}}]}},name:"close-circle",theme:"twotone"},a=n(4291),i=function(e,t){return o.createElement(a.Z,(0,c.Z)((0,c.Z)({},e),{},{ref:t,icon:r}))};i.displayName="CloseCircleTwoTone";var l=o.forwardRef(i)},1544:function(e,t,n){n.d(t,{Z:function(){return l}});var c=n(1413),o=n(2791),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm0 632c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z",fill:t}},{tag:"path",attrs:{d:"M472 732a40 40 0 1080 0 40 40 0 10-80 0zm151.6-415.3C593.6 290.5 554 276 512 276s-81.6 14.4-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.2 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5 0-39.3-17.2-76-48.4-103.3z",fill:e}}]}},name:"question-circle",theme:"twotone"},a=n(4291),i=function(e,t){return o.createElement(a.Z,(0,c.Z)((0,c.Z)({},e),{},{ref:t,icon:r}))};i.displayName="QuestionCircleTwoTone";var l=o.forwardRef(i)},7528:function(e,t,n){n.d(t,{Z:function(){return y}});var c=n(4942),o=n(7462),r=n(9439),a=n(2791),i=n(1694),l=n.n(i),s=n(1818),d=n(732),u=n(9077),f=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n},h=function(e){var t,n=e.prefixCls,r=e.className,i=e.checked,s=e.onChange,d=e.onClick,h=f(e,["prefixCls","className","checked","onChange","onClick"]),p=(0,a.useContext(u.E_).getPrefixCls)("tag",n),g=l()(p,(t={},(0,c.Z)(t,"".concat(p,"-checkable"),!0),(0,c.Z)(t,"".concat(p,"-checkable-checked"),i),t),r);return a.createElement("span",(0,o.Z)({},h,{className:g,onClick:function(e){null===s||void 0===s||s(!i),null===d||void 0===d||d(e)}}))},p=n(4466),g=n(2833),m=function(e,t){var n={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(n[c[o]]=e[c[o]])}return n},x=new RegExp("^(".concat(p.Y.join("|"),")(-inverse)?$")),Z=new RegExp("^(".concat(p.E.join("|"),")$")),j=function(e,t){var n,i=e.prefixCls,f=e.className,h=e.style,p=e.children,j=e.icon,v=e.color,y=e.onClose,C=e.closeIcon,w=e.closable,b=void 0!==w&&w,k=m(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),P=a.useContext(u.E_),O=P.getPrefixCls,z=P.direction,E=a.useState(!0),I=(0,r.Z)(E,2),T=I[0],S=I[1];a.useEffect((function(){"visible"in k&&S(k.visible)}),[k.visible]);var N=function(){return!!v&&(x.test(v)||Z.test(v))},M=(0,o.Z)({backgroundColor:v&&!N()?v:void 0},h),F=N(),R=O("tag",i),_=l()(R,(n={},(0,c.Z)(n,"".concat(R,"-").concat(v),F),(0,c.Z)(n,"".concat(R,"-has-color"),v&&!F),(0,c.Z)(n,"".concat(R,"-hidden"),!T),(0,c.Z)(n,"".concat(R,"-rtl"),"rtl"===z),n),f),B=function(e){e.stopPropagation(),null===y||void 0===y||y(e),e.defaultPrevented||"visible"in k||S(!1)},L="onClick"in k||p&&"a"===p.type,H=(0,s.Z)(k,["visible"]),A=j||null,G=A?a.createElement(a.Fragment,null,A,a.createElement("span",null,p)):p,V=a.createElement("span",(0,o.Z)({},H,{ref:t,className:_,style:M}),G,b?C?a.createElement("span",{className:"".concat(R,"-close-icon"),onClick:B},C):a.createElement(d.Z,{className:"".concat(R,"-close-icon"),onClick:B}):null);return L?a.createElement(g.Z,null,V):V},v=a.forwardRef(j);v.displayName="Tag",v.CheckableTag=h;var y=v}}]);
//# sourceMappingURL=1422.9cfc5300.chunk.js.map