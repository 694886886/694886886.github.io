"use strict";(self.webpackChunkwater_bs=self.webpackChunkwater_bs||[]).push([[6081],{1864:function(e,t,n){n.d(t,{X:function(){return s}});window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},9565:function(e,t,n){function s(e){for(var t in e)if(null!=e[t])return!1;return!0}n.d(t,{t:function(){return s}})},6081:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var s=n(9439),l=n(2791),r=n(2862),a=n(6818),i=n(9389),c=n(586),d=n(3695),o=n(3099),u=n(7309),h=n(1577),f=n(6904),x=n(5796),p=n(6795),j=n(2464),Z=n(713),m=n(6871),y=n(4569),v=n.n(y),w=n(1864),g=n(116),b=n(9565),z=n(184),P=r.Z.confirm,k=a.Z.Option,C=i.Z.Search,A=g.Z;function R(){var e={},t={},n=((0,m.s0)(),(0,l.useState)(0)),y=(0,s.Z)(n,2),g=y[0],R=y[1],S=(0,l.useState)(),X=(0,s.Z)(S,2),H=X[0],L=X[1],E=c.Z.Content,M=(0,l.useState)(!1),I=(0,s.Z)(M,2),O=I[0],T=I[1],$=(0,l.useState)(!1),_=(0,s.Z)($,2),U=_[0],N=_[1],V=(0,l.useState)(""),B=(0,s.Z)(V,2),W=B[0],D=B[1],q=(0,l.useRef)(),F=(0,l.useRef)(),G=(0,l.useRef)(),J=(0,l.useRef)(),K=(0,l.useRef)(),Q=(0,l.useRef)(),Y=(0,l.useRef)(),ee=(0,l.useRef)(),te=(0,l.useRef)(),ne=(0,l.useRef)();(0,l.useEffect)((function(){return d.ZP.destroy(),v().get("http://localhost:8080/getUserList").then((function(e){console.log("resp\u7684\u5185\u5bb9:",e),L(e.data.data),R(e.data.data)})).catch((function(e){console.log(e),d.ZP.error("\u8bf7\u6c42\u5931\u8d25!",1)})),function(){}}),[]);var se=[{title:"\u6635\u79f0",dataIndex:"nickname",ellipsis:!0},{title:"\u8be6\u7ec6\u5730\u5740",dataIndex:"address",ellipsis:!0},{title:"\u624b\u673a\u53f7",dataIndex:"phone",ellipsis:!0},{title:"\u90ae\u7bb1\u53f7",dataIndex:"email",ellipsis:!0},{title:"Action",key:"action",width:"15%",render:function(e,t){return(0,z.jsxs)(o.Z,{size:"middle",children:[(0,z.jsxs)("a",{onClick:function(){le(t)},children:["\u7f16\u8f91",(0,z.jsx)(p.Z,{})]}),(0,z.jsxs)("a",{onClick:function(){!function(e){P({title:"\u8b66\u544a",icon:(0,z.jsx)(x.Z,{}),content:"\u786e\u8ba4\u8981\u5220\u9664".concat(e.nickname,"\u5417?"),onOk:function(){console.log(e),v().post("http://localhost:8080/deleteUser?id="+e.id).then((function(e){"0"===e.data.state?(d.ZP.success(e.data.message,1),window.location.reload()):d.ZP.error(e.data.message,1)})).catch((function(e){d.ZP.error("\u7f51\u7edc\u8d85\u65f6!",1)}))}})}(t)},style:{marginLeft:5},children:[" \u5220\u9664",(0,z.jsx)(j.Z,{twoToneColor:"red"})]})]})}}],le=function(e){T(!0),D(e.id),q.current.state.value="",F.current.state.value="",G.current.state.value="",J.current.state.value="",K.current.state.value=""},re=function(){N(!0),t.id=record.id,Q.current.state.value="",Y.current.state.value="",ee.current.state.value="",te.current.state.value="",ne.current.state.value=""},ae=function(e){console.log(e);var t;t=g.filter((function(t,n){return console.log(t),-1!=(null===t||void 0===t?void 0:t.nickname.indexOf(e))})),console.log(t),R(t),null!=e&&""!=e||R(H)};return(0,z.jsxs)(E,{style:{minHeight:285},className:"animate__animated animate__fadeIn",children:[(0,z.jsx)(h.Z,{columns:se,dataSource:g,bordered:!0,title:function(){return(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,z.jsx)("span",{children:"\u6210\u5458\u7ba1\u7406"}),(0,z.jsxs)(o.Z,{children:[(0,z.jsx)(C,{placeholder:"\u641c\u7d22\u6635\u79f0",onSearch:ae,allowClear:!0,style:{width:200}}),(0,z.jsx)(u.Z,{type:"primary",icon:(0,z.jsx)(Z.Z,{}),onClick:re,children:"\u6dfb\u52a0\u7528\u6237"})]})]})},pagination:{pageSize:8}}),(0,z.jsxs)(r.Z,{title:"\u7f16\u8f91\u7528\u6237",visible:O,onOk:function(){if(e.password=q.current.state.value||null,e.nickname=F.current.state.value||null,e.address=G.current.state.value||null,e.phone=J.current.state.value||null,e.email=K.current.state.value||null,console.log(e),console.log("\u4fee\u6539\u540e\u662f\u5426\u662f\u4e2a\u7a7a\u5bf9\u8c61:",(0,b.t)(e)),!(0,b.t)(e)){e.id=W,console.log("\u8be5\u7528\u6237\u4fee\u6539\u540e\u4fe1\u606f:",e);return null==e.email||/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(e.email)?null==e.phone||/^1[3|4|5|7|8]\d{9}$/.test(e.phone)?null==e.password||/^[a-zA-Z0-9]{6,18}$/.test(e.password)?void v().post("http://localhost:8080/editUser",e).then((function(e){"0"===e.data.state?(d.ZP.success(e.data.message,1),T(!1),setTimeout((function(){window.location.reload()}),500)):d.ZP.error(e.data.message,1)})).catch((function(e){d.ZP.error("\u8bf7\u6c42\u8d85\u65f6!",1)})):(d.ZP.error("\u5bc6\u7801\u4e3a6-18\u4f4d\u5305\u542b\u6570\u5b57\u5b57\u6bcd\u7684\u7ec4\u5408!"),void T(!1)):(d.ZP.error("\u624b\u673a\u683c\u5f0f\u9519\u8bef!",1),void T(!1)):(d.ZP.error("\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef!",1),void T(!1))}T(!1)},onCancel:function(){T(!1),e={}},width:"40%",centered:!0,children:[(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u5bc6\u7801"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:q}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u6635\u79f0"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:F}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u8be6\u7ec6\u5730\u5740"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:G}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u624b\u673a"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:J,maxLength:11}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u7535\u5b50\u90ae\u7bb1"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:K}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u57ce\u5e02"}),(0,z.jsx)(f.Z,{style:{width:.2*w.X},onChange:function(t){e.city=t},options:A,defaultValue:""}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u6027\u522b"}),(0,z.jsxs)(a.Z,{placeholder:"\u6027\u522b",defaultValue:"",onSelect:function(t){e.gender=t},children:[(0,z.jsx)(k,{value:"0",children:"\u7537"}),(0,z.jsx)(k,{value:"1",children:"\u5973"}),(0,z.jsx)(k,{value:"2",children:"\u4fdd\u5bc6"})]})," ",(0,z.jsx)("br",{})]})]}),(0,z.jsxs)(r.Z,{title:"\u65b0\u589e\u7528\u6237",visible:U,onOk:function(){t.password=Q.current.state.value||"123456",t.nickname=Y.current.state.value||"\u65b0\u7528\u6237",t.address=ee.current.state.value||null,t.phone=te.current.state.value||null,t.email=ne.current.state.value||null,console.log("\u6dfb\u52a0\u7684\u7528\u6237\u7684\u4fe1\u606f:",t);null!=t.phone&&""!=t.phone?null!=t.phone&&/^1[3|4|5|7|8]\d{9}$/.test(t.phone)?null!=t.email&&""!=t.email?null!=t.email&&/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(t.email)?""==t.password||"123456"==t.password||null==t.password||/^[a-zA-Z0-9]{6,18}$/.test(t.password)?v().post("http://localhost:8080/addUser",t).then((function(e){"0"===e.data.state?(d.ZP.success(e.data.message,1),T(!1),window.location.reload()):(d.ZP.error(e.data.message,1),T(!1))})).catch((function(e){d.ZP.error("\u8bf7\u6c42\u8d85\u65f6!",1),T(!1)})):d.ZP.error("\u5bc6\u7801\u4e3a6-18\u4f4d\u5305\u542b\u6570\u5b57\u5b57\u6bcd\u7684\u7ec4\u5408!"):d.ZP.error("\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef!",1):d.ZP.error("\u8bf7\u8f93\u5165\u7535\u5b50\u90ae\u7bb1",1):d.ZP.error("\u624b\u673a\u683c\u5f0f\u9519\u8bef!",1):d.ZP.error("\u8bf7\u8f93\u5165\u624b\u673a\u53f7",1)},onCancel:function(){N(!1),t={}},width:"40%",centered:!0,children:[(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u5bc6\u7801"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:Q}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u6635\u79f0"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:Y}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u8be6\u7ec6\u5730\u5740"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:ee}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u624b\u673a"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:te}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u7535\u5b50\u90ae\u7bb1"}),(0,z.jsx)(i.Z,{style:{width:.2*w.X},ref:ne}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u57ce\u5e02"}),(0,z.jsx)(f.Z,{style:{width:.2*w.X},onChange:function(e){t.city=e},options:A,defaultValue:""}),(0,z.jsx)("br",{})]}),(0,z.jsxs)("p",{style:{display:"flex"},children:[(0,z.jsx)("span",{style:{margin:10,width:70},children:"\u6027\u522b"}),(0,z.jsxs)(a.Z,{placeholder:"\u6027\u522b",defaultValue:"",onSelect:function(e){t.gender=e},children:[(0,z.jsx)(k,{value:"0",children:"\u7537"}),(0,z.jsx)(k,{value:"1",children:"\u5973"}),(0,z.jsx)(k,{value:"2",children:"\u4fdd\u5bc6"})]})," ",(0,z.jsx)("br",{})]})]})]})}},2464:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(1413),l=n(2791),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M292.7 840h438.6l24.2-512h-487z",fill:t}},{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z",fill:e}}]}},name:"delete",theme:"twotone"},a=n(4291),i=function(e,t){return l.createElement(a.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:r}))};i.displayName="DeleteTwoTone";var c=l.forwardRef(i)},6795:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(1413),l=n(2791),r={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:t}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:e}}]}},name:"edit",theme:"twotone"},a=n(4291),i=function(e,t){return l.createElement(a.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:r}))};i.displayName="EditTwoTone";var c=l.forwardRef(i)},713:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(1413),l=n(2791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},a=n(4291),i=function(e,t){return l.createElement(a.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:t,icon:r}))};i.displayName="UserAddOutlined";var c=l.forwardRef(i)}}]);
//# sourceMappingURL=6081.d4f6167e.chunk.js.map